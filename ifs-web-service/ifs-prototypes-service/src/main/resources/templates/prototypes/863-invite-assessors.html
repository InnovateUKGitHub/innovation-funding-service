<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Application Dashboard'" />
    <link href="/css/prototype.css" media="screen" rel="stylesheet" type="text/css" />


	<div th:if="${param.filterInnovationArea != null}" th:remove="tag">
		<style>
			#assessor-list tbody tr{
				display: none;
			}
			.pagination{
				display: none;
			}
			#assessor-list tbody tr.filtered-result{
				display: table-row;
			}
		</style>
	</div>

</head>
<body class="comp-assessors full-width">


<th:block th:insert="prototypes/fragments/layout :: prototype-nav" />
<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />


<main id="content">

    <th:block th:insert="prototypes/fragments/applicant-view :: prototype-subheader(${'Competition overview'}, ${'/prototypes/997-comp-applications-dashboard-open'})" />

	<!-- HARDCODED PROTOTYPE HTML -->

	<th:block th:insert="prototypes/fragments/comp-admin :: prototype-comp-admin-page-title(${'Innovate UK, Technology inspired, (4891061)'}, ${'Invite assessors'})" />

	<div id="sticky-zone">

		<section class="info-area">
			<th:block th:insert="prototypes/fragments/comp-admin :: prototype-comp-summary" />
		</section>

		<!-- <p class="form-hint">Add assessors to the invite list by selecting '<strong>Add</strong>' from the list of <strong>current assessors</strong> in the section below</p> -->
		<section class="data-area">
			<h2 class="govuk-heading-l">Invite list</h2>
			<div class="govuk-grid-row highlight-panel">
				<div class="govuk-grid-column-one-half">
					<p class="govuk-body"><span class="govuk-heading-xl" id="assessor-count-display">0</span> assessors on the invite list</p>
				</div>
				<div class="govuk-grid-column-one-half alignright">
					<a href="/prototypes/863-invite-list" class="button large disabled view-invite-list">View invite list <span>(0)</span></a>
				</div>
			</div>

			<h2 class="govuk-heading-l" id="current-assessors">Current assessors</h2>

			<th:block th:insert="prototypes/fragments/comp-admin :: prototype-comp-search-filters" th:with="filterTitle=${'assessors'}" />

			<div class="table-overflow">
				<table id="assessor-list">
					<thead>
						<tr>
							<th scope="col">Assessor</th>
							<th scope="col">Type</th>
							<th scope="col">Innovation area</th>
							<th scope="col">Contract and DOI</th>
							<th class="alignright" scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr class="filtered-result">
							<th scope="row">Bill Knightly</th>
							<td>Industry</td>
			                    <td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-1"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Oliver Romero</th>
							<td>Academic</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-2"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Jeffrey	Carlson</th>
							<td>Academic</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-3"></td>
							<td><span class="no">No</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr class="filtered-result">
							<th scope="row">Bill Limp</th>
							<td>Industry</td>
			                    <td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-1"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Sonja Barton</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-4"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Juanita	Luna</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-2"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Irving Wolfe</th>
							<td>Academic</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-4"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Verna Richards</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-2"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr class="filtered-result">
							<th scope="row">Phil Bill</th>
							<td>Industry</td>
			                    <td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-1"></td>
							<td><span class="no">No</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Blake Kelley</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-3"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Gloria Kelly</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-4"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Lori Underwood</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-2"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Melanie	Daniels</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-3"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Bill Hale</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-4"></td>
							<td><span class="no">No</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Christina Swanson</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-2"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr class="filtered-result">
							<th scope="row">Ryan Bill</th>
							<td>Industry</td>
			                    <td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-1"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr class="filtered-result">
							<th scope="row">Stuart Bill</th>
							<td>Industry</td>
			                    <td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-1"></td>
							<td><span class="no">No</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Malcolm	Stewart</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-2"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Elmer Nelson</th>
							<td>Industry</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-3"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
						<tr>
							<th scope="row">Calvin Manning</th>
							<td>Academic</td>
							<td th:include="prototypes/fragments/comp-admin :: prototype-innovation-area-text-4"></td>
							<td><span class="yes">Yes</span></td>
							<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
						</tr>
					</tbody>
				</table>
			</div>

			<div th:if="${param.filterStatus == null}" th:remove="tag">

				<ul class="pagination">
				    <li class="next">
				        <a href="#" rel="next" title="Navigate to next part">
				            <span class="pagination-label">Next</span>
				            <span class="pagination-part-title">2 of 4</span>
				        </a>
				    </li>
				</ul>

			</div>

			<h2 class="govuk-heading-l">
				Add new assessors
			</h2>

			<ul> <!-- Based on existing invite markup from 633-application-invite -->
				<li>
					<table>
						<thead>
							<tr>
								<th>Name</th>
								<th>E-mail</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							<tr class="form-group">
								<td>
									<input readonly="readonly" type="text" name="name-item-1" id="name-item-1" class="form-control width-full" value="Joe Bloggs" />
								</td>
								<td>
									<input readonly="readonly" type="email" name="mail-item-1" id="mail-item-1" class="form-control width-full" value="jbloggs@example.com" />
								</td>
								<td class="alignright remove">
									<!-- <a class="delete-row" data-cost-row="12" href="#">Remove</a> -->
									(Example)
								</td>
							</tr>
						</tbody>
					</table>

					<div class="govuk-grid-row extra-margin">
						<div class="govuk-grid-column-one-half">
							<a class="add-another-row button-link" href="javascript:void(0);">Add new row</a>
						</div>
						<!-- <div class="govuk-grid-column-one-half alignright-button">
							<a href="#" class="button button-secondary" id="add-to-list">Add to invite list <span>(0)</span></a>
						</div> -->
					</div>

				</li>
			</ul>

			<hr />

			<p class="alignright-button extra-margin">

				<a href="/prototypes/863-invite-list" class="button large disabled view-invite-list">View invite list <span>(0)</span></a>

			</p>
		</section>

	</div>


	<!-- END OFHARDCODED PROTOTYPE HTML -->

    <th:block th:insert="fragments/layout :: main-content-end" />
</main>

<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
<script src="/js/ifs_prototype/prototype.js" type="text/javascript"></script>
<script src="/js/ifs_prototype/jquery.waypoints.min.js" type="text/javascript"></script>

<script type="text/javascript">
	// <![CDATA[
	jQuery(document).ready(function(){
		function setButtonCounter(){
			jQuery('#assessor-count-display').html(counter);
			jQuery('.view-invite-list span').html('(<strong>'+counter+'</strong>)');
		}

		function setButtonState(){
			if (counter <= 0){
				jQuery('.view-invite-list').addClass('disabled');
				jQuery('.view-invite-list').on('click',function(e){
					e.preventDefault();
					//alert(counter);
				});
			}else{
				jQuery('.view-invite-list').removeClass('disabled');
				jQuery('.view-invite-list').on('click',function(e){
					return true;
					//alert(counter);
				});
			}
		}

		var counter = 0;
		//var counterRow = 0;

		//jQuery('.add-another-row').on('click',function(e){
			//counterRow ++;
			//jQuery('#add-to-list span').html('(<strong>'+counterRow+'</strong>)');
			//alert(counterRow);
		//});

		jQuery('body').on('blur','input',function(){

			if ( jQuery(this).attr('type') == 'e-mail' ) {

				var email =  jQuery(this).val();

				if (jQuery(this).val().length != 0){

					counter ++;

					setButtonState();
					setButtonCounter();

				}
			}
		});

		jQuery('body').on('click','.delete-row',function(){
			counter --;
			//counterRow --;
			//setButtonCounter();
			//jQuery('#add-to-list span').html('(<strong>'+counterRow+'</strong>)');
			//alert("TEST "+counterRow);

			setButtonState();
			setButtonCounter();

		});

		jQuery('#add-to-list').on('click',function(e){
			e.preventDefault();
			counter = counter + counterRow;
			//alert(counter);
			setButtonState();
			setButtonCounter();
		});


		jQuery('.add-assessor').on('click',function(e){
			e.preventDefault();


			//alert('hello');

			if (jQuery(this).hasClass( 'added' )){

				jQuery(this).removeClass( 'added' );
				jQuery(this).text('Add');

				counter --;

			}else{

				jQuery(this).addClass( 'added' );
				jQuery(this).text('Remove');


				counter ++;

			}

			setButtonState();
			setButtonCounter();

			//jQuery(this).text('Remove');



		});
	});
	// ]]>
	</script>
</body>
</html>
