<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle=|Documents - ${model.projectName}|" />
</head>
<body class="govuk-template__body project-other-documents">
<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />
<th:block th:insert="fragments/modals :: modal-overlay" />

<div class="govuk-width-container">

    <th:block th:insert="fragments/layout :: phase-banner" />
    <th:block th:insert="fragments/layout :: header-sub" th:with="linkTitle='Set up your project',linkUrl=@{/project/{projectId}(projectId=${model.projectId})}" />

	<main class="govuk-main-wrapper" id="main-content" role="main">
        <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle='Documents',subTitle=${model.projectName},size='govuk-heading-xl'" />

        <th:block th:if="${model.projectManager}">
	       <p class="govuk-body govuk-!-margin-top-6">You can upload and submit additional documents to support your application.</p>
        </th:block>

        <th:block th:if="${model.isMonitoringOfficer}">
            <p class="govuk-body govuk-!-margin-top-6 govuk-!-margin-bottom-9">Please review the documents submitted by the project manager. You must accept or reject them based on the Innovate UK's requirements.</p>
        </th:block>

        <th:block th:unless="${model.projectManager or model.isMonitoringOfficer}">
            <p class="govuk-body govuk-!-margin-top-6"> Only the project manager can upload and submit additional documents to support your<th:block th:text="${model.IsProcurement() ? ' ' : ' grant '}"></th:block>application.</p>
        </th:block>

        <p class="govuk-body govuk-!-margin-top-6" th:unless="${!model.isCollaborativeProject() or model.isMonitoringOfficer}">These documents should be reviewed by all partners in the project team.</p>

        <ul class="task-list">
            <li th:each="document : ${model.documents}">
                <div class="task">
                    <span class="govuk-heading-s">
                        <div th:unless="${model.isMonitoringOfficer}">
                            <a th:href="@{/project/{id}/document/config/{documentConfigId}(id=${model.projectId}, documentConfigId=${document.documentConfigId})}"
                               th:text=${document.title}
                               class="govuk-link" />
                        </div>
                        <div th:if="${model.isMonitoringOfficer}">
                            <a th:unless="${document.notSubmitted or document.rejected}"
                               th:href="@{/project/{id}/document/config/{documentConfigId}(id=${model.projectId}, documentConfigId=${document.documentConfigId})}"
                               th:text=${document.title}
                               class="govuk-link" />
                            <div th:if="${document.notSubmitted or document.rejected}" th:text=${document.title}></div>
                        </div>
                    </span>
                </div>
                <th:block th:unless="${model.isMonitoringOfficer}">
                    <div th:if="${document.notSubmitted || document.rejected}"
                         class="task-status-incomplete">
                        <span>Incomplete</span>
                    </div>
                    <div th:if="${document.awaitingReview}"
                         class="task-status-info">
                        <span>Awaiting review</span>
                    </div>
                    <div th:if="${document.approved}"
                         class="task-status-complete">
                        <span>Complete</span>
                    </div>
                </th:block>
                <th:block th:if="${model.isMonitoringOfficer}">
                    <div th:if="${document.notSubmitted}"
                         class="task-status-info">
                        <span>No file uploaded</span>
                    </div>
                    <div th:if="${document.awaitingReview}"
                         class="task-status-incomplete">
                        <span>To be reviewed</span>
                    </div>
                    <div th:if="${document.approved}"
                         class="task-status-complete">
                        <span>Approved</span>
                    </div>
                    <div th:if="${document.rejected}"
                         class="task-status-info-incomplete">
                        <span>Incomplete</span>
                    </div>
                </th:block>
            </li>
        </ul>

        <div class="govuk-!-margin-top-6" th:unless="${model.isMonitoringOfficer}">
            <a th:href="@{/project/{projectId}(projectId=${model.projectId})}" class="govuk-button govuk-button--secondary">Return to set up your project</a>
        </div>

	    <th:block th:insert="fragments/layout :: main-content-end" />
	</main>
</div>

<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
<th:block th:insert="fragments/service-layout :: body-end" />

</body>
</html>
