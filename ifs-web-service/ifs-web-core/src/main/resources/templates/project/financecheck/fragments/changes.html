<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="labour">
    <th:block th:if="${typeOfChange == 'Change'}">
        <th:block th:unless="${changePair.submitted.name == T(org.innovateuk.ifs.finance.resource.category.LabourCostCategory).WORKING_DAYS_KEY}">
            <tr th:class="${changePair.submitted.role != changePair.changed.role} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
                <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
                <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>

                <th class="govuk-table__header" scope="row">Role</th>
                <td class="govuk-table__cell" th:text="${changePair.submitted.role}"></td>
                <td th:text="${changePair.changed.role}" colspan="2" th:class="${changePair.submitted.role != changePair.changed.role} ? 'govuk-table\_\_cell item-changed' : 'govuk-table\_\_cell'"></td>
            </tr>

            <tr th:class="${changePair.submitted.grossEmployeeCost != changePair.changed.grossEmployeeCost} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
                <th class="govuk-table__header" scope="row">Gross employee cost (&pound;)</th>
                <td class="govuk-table__cell" th:text="${changePair.submitted.grossEmployeeCost}"></td>
                <td th:text="${changePair.changed.grossEmployeeCost}" colspan="2" th:class="${changePair.submitted.grossEmployeeCost != changePair.changed.grossEmployeeCost} ? 'govuk-table\_\_cell item-changed' : 'govuk-table\_\_cell'"></td>
            </tr>

            <tr th:class="${changePair.submitted.labourDays != changePair.changed.labourDays} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
                <th class="govuk-table__header" scope="row">Days to be spent</th>
                <td class="govuk-table__cell" th:text="${changePair.submitted.labourDays}"></td>
                <td th:text="${changePair.changed.labourDays}" colspan="2" th:class="${changePair.submitted.labourDays != changePair.changed.labourDays} ? 'govuk-table\_\_cell item-changed' : 'govuk-table\_\_cell'"></td>
            </tr>
            <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.totalDiff(workingDays, changePair.submitted)}">
                <td class="govuk-table__cell govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
            </tr>
        </th:block>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>

            <th class="govuk-table__header" scope="row">Role</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" colspan="2" th:text="${changePair.changed.role}"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Gross employee cost</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.grossEmployeeCost}" colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Days to be spent</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.labourDays}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.getTotal(workingDays),0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>

            <th class="govuk-table__header" scope="row">Role</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.role}"></td>
            <td class="govuk-table__cell"colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Gross employee cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.grossEmployeeCost}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Days to be spent</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.labourDays}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" colspan="6" th:text="|-${#numbers.formatInteger(changePair.submitted.getTotal(workingDays),0, 'DEFAULT')}|"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="materials">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.item != changePair.changed.item} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Item</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.item}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.item}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.quantity != changePair.changed.quantity} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Quantity</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.quantity}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.quantity}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.cost != changePair.changed.cost} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Cost per item</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.totalDiff(changePair.submitted)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Item</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.item}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Quantity</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.quantity}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__cell" scope="row">Cost per item</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.total,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Item</th>
            <td class="govuk-table__cell"th:text="${changePair.submitted.item}"></td>
            <td class="govuk-table__cell"colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Quantity</th>
            <td class="govuk-table__cell"th:text="${changePair.submitted.quantity}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Cost per item</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.total,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="capital_usage">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.description != changePair.changed.description} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="7" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="7" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Item description</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.description}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.description}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.existing != changePair.changed.existing} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">New or existing</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.existing}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.existing}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.deprecation != changePair.changed.deprecation} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Depreciation period</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.deprecation}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.deprecation}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.npv != changePair.changed.npv} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Net present value</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.npv}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.npv}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.residualValue != changePair.changed.residualValue} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Residual value</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.residualValue}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.residualValue}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.utilisation != changePair.changed.utilisation} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Utilisation</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.utilisation}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.utilisation}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.getTotal() != changePair.changed.getTotal()} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Net cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.getTotal()}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.getTotal()}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.totalDiff(changePair.submitted)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="7" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="7" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Item description</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.description}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">New or existing</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.existing}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Depreciation period</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.deprecation}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Net present value</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell"th:text="${changePair.changed.npv}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Residual value</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.residualValue}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Utilisation</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.utilisation}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Net cost</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.getTotal()}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.total,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="7" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="7" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Item description</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.description}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">New or existing</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.existing}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Depreciation period</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.deprecation}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Net present value</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.npv}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Residual value</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.residualValue}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Utilisation</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.utilisation}"></td>
            <td class="govuk-table__cell"colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Net cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.getTotal()}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.total,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="subcontracting">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.name != changePair.changed.name} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="4" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="4" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Subcontractor name</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.name}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.name}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.country != changePair.changed.country} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Country</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.country}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.country}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.role != changePair.changed.role} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Role</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.role}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.role}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.cost != changePair.changed.cost} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="change-row" th:with="difference=${changePair.changed.totalDiff(changePair.submitted)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="4" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="4" th:text="${rowTypeName}"></td>
            <th class="govuk-table__cell" scope="row">Subcontractor name</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.name}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Country</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.country}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__cell" scope="row">Role</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.role}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Cost</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.total,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="4" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="4" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Subcontractor name</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.name}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Country</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.country}"></td>
            <td class="govuk-table__cell"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Role</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.role}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.total,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="travel">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.item != changePair.changed.item} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Purpose of journey</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.item}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.item}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.quantity != changePair.changed.quantity} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Number of times</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.quantity}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.quantity}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.cost != changePair.changed.cost} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Cost each</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.totalDiff(changePair.submitted)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__cell" scope="row">Purpose of journey</th>
            <td class="govuk-table__cell"></td>
            <td th:text="${changePair.changed.item}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Number of times</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.quantity}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__cell" scope="row">Cost each</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.total,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>
    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Purpose of journey</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.item}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Number of times</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.quantity}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__cell" scope="row">Cost each</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.total,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="other_costs">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.description != changePair.changed.description} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="2" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="2" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Description and justification of cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.description}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.description}" colspan="2"></td>
        </tr>
        <tr th:class="${changePair.submitted.cost != changePair.changed.cost} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Total</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.totalDiff(changePair.submitted)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>
    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="2" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="2" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Description and justification of cost</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.description}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Total</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.cost}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.total,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>
    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="2" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="2" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Description and justification of cost</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.description}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Total</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.cost}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.total,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="overheads">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.rateType.name != changePair.changed.rateType.name} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="2" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="2" th:text="${rowTypeName}"></td>

            <th class="govuk-table__header" scope="row">Rate Type</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.rateType.label}"></td>
            <td th:text="${changePair.changed.rateType.label}" colspan="2" th:class="${changePair.submitted.rateType.name != changePair.changed.rateType.name} ? 'govuk-table\_\_cell item-changed' : 'govuk-table\_\_cell'"></td>
        </tr>

        <tr th:class="${changePair.submitted.rate != changePair.changed.rate} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Amount</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.rate}"></td>
            <td th:text="${changePair.changed.rate}" colspan="2" th:class="${changePair.submitted.rate!= changePair.changed.rate} ? 'govuk-table\_\_cell item-changed' : 'govuk-table\_\_cell'"></td>
        </tr>
        <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.totalDiff(changePair.submitted)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="2" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="2" th:text="${rowTypeName}"></td>

            <th class="govuk-table__header" scope="row">Rate Type</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" colspan="2" th:text="${changePair.changed.rateType.label}"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Amount</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.rate}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.rate,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="2" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="2" th:text="${rowTypeName}"></td>

            <th class="govuk-table__header" scope="row">Rate Type</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.rateType.label}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Amount</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.rate}"></td>
            <td class="govuk-table__cell"colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.rate,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<th:block th:fragment="other_funding">
    <th:block th:if="${typeOfChange == 'Change'}">
        <tr th:class="${changePair.submitted.fundingSource.equals(changePair.changed.fundingSource)} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>

            <th class="govuk-table__header" scope="row">Funding Source</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.fundingSource}"></td>
            <td th:text="${changePair.changed.fundingSource}" colspan="2" th:class="${changePair.submitted.fundingSource.equals(changePair.changed.fundingSource)} ? 'govuk-table\_\_cell' : 'govuk-table\_\_cell item-changed'"></td>
        </tr>

        <tr th:class="${#strings.equals(changePair.submitted.securedDate, changePair.changed.securedDate)} ? 'govuk-table\_\_row' : 'govuk-table\_\_row item-changed'">
            <th class="govuk-table__header" scope="row">Secured Date</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.securedDate}"></td>
            <td th:text="${changePair.changed.securedDate}" colspan="2" th:class="${#strings.equals(changePair.submitted.securedDate, changePair.changed.securedDate)} ? 'govuk-table\_\_cell' : 'govuk-table\_\_cell item-changed'"></td>
        </tr>

        <tr th:class="${changePair.submitted.fundingAmount != changePair.changed.fundingAmount} ? 'govuk-table\_\_row item-changed' : 'govuk-table\_\_row'">
            <th class="govuk-table__header" scope="row">Amount</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.fundingAmount}"></td>
            <td th:text="${changePair.changed.fundingAmount}" colspan="2" th:class="${changePair.submitted.fundingAmount!= changePair.changed.fundingAmount} ? 'govuk-table\_\_cell item-changed' : 'govuk-table\_\_cell'"></td>
        </tr>

        <tr class="govuk-table__row change-row" th:with="difference=${changePair.changed.fundingAmount.subtract(changePair.submitted.fundingAmount)}">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(difference, 0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'New'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Funding Source</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" colspan="2" th:text="${changePair.changed.fundingSource}"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Secured Date</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.securedDate}" colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Amount</th>
            <td class="govuk-table__cell"></td>
            <td class="govuk-table__cell" th:text="${changePair.changed.fundingAmount}" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="${#numbers.formatInteger(changePair.changed.fundingAmount,0, 'DEFAULT')}" colspan="6"></td>
        </tr>
    </th:block>

    <th:block th:if="${typeOfChange == 'Remove'}">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell" rowspan="3" th:text="${typeOfChange}"></td>
            <td class="govuk-table__cell" rowspan="3" th:text="${rowTypeName}"></td>
            <th class="govuk-table__header" scope="row">Funding Source</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.fundingSource}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Secured Date</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.securedDate}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>

        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="row">Amount</th>
            <td class="govuk-table__cell" th:text="${changePair.submitted.fundingAmount}"></td>
            <td class="govuk-table__cell" colspan="2"></td>
        </tr>
        <tr class="govuk-table__row change-row">
            <td class="govuk-table__cell--numeric" th:text="|-${#numbers.formatInteger(changePair.submitted.fundingAmount,0, 'DEFAULT')}|" colspan="6"></td>
        </tr>
    </th:block>
</th:block>

<!--/* Only change is valid for grant claims */-->
<th:block th:fragment="finance">
    <th:block th:if="${typeOfChange == 'Change'}">
        <p class="govuk-body" th:text="|Submitted funding level: ${changePair.submitted.percentage}%|"></p>
        <p class="govuk-body govuk-!-font-weight-bold" th:text="|Changed funding level: ${changePair.changed.percentage}%|"></p>
    </th:block>
</th:block>
<th:block th:fragment="grant_claim_amount">
    <th:block th:if="${typeOfChange == 'Change'}">
        <p class="govuk-body" th:text="|Submitted funding sought: £${#numbers.formatInteger(changePair.submitted.amount, 0, 'DEFAULT')}|"></p>
        <p class="govuk-body govuk-!-font-weight-bold" th:text="|New funding sought: £${#numbers.formatInteger(changePair.changed.amount, 0, 'DEFAULT')}|"></p>
    </th:block>
</th:block>

</html>
