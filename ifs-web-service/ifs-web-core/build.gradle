apply from: rootProject.file("gradle-support/spring-boot.gradle")

bootJar.enabled=false
jar.enabled=true

group 'innovateuk'
version project.version

configurations {
    testArtifacts
}
task testJar (type: Jar) {
    baseName = "${project.name}-test"
    from sourceSets.test.output
}
artifacts {
    testArtifacts testJar
}

dependencies {
    implementation "org.springframework.boot:spring-boot-starter-thymeleaf"
    implementation "org.thymeleaf.extras:thymeleaf-extras-springsecurity5"
    implementation "org.springframework.boot:spring-boot-starter-security"
    implementation "org.springframework.boot:spring-boot-starter-validation"
    implementation "com.fasterxml.jackson.datatype:jackson-datatype-jsr310"
    implementation "org.springframework.boot:spring-boot-starter-aop"

    implementation "org.apache.httpcomponents:httpclient"
    implementation "org.apache.httpcomponents:httpasyncclient"
    implementation 'org.jsoup:jsoup'
    implementation "org.apache.commons:commons-lang3"

    implementation project(":common:ifs-web-commons")
    implementation project(":common:ifs-resources")
    implementation project(":common:ifs-rest-api-service")
    implementation project(":common:ifs-rest-util")
    implementation project(":common:ifs-error-util")

    implementation project(":common:ifs-commons")
    implementation project(":common:ifs-security")

    testImplementation project(":common:ifs-security-test")
    testImplementation project(":common:ifs-web-commons-test")

    testImplementation("com.opencsv:opencsv") {
        exclude group: "commons-logging", module: "commons-logging"
    }
    testImplementation 'junit:junit'
}

jar.dependsOn ":ifs-web-service:gulp_default"

sourceSets {
    main {
        resources {
            srcDirs = ["src/main/resources"]
        }
    }
}
