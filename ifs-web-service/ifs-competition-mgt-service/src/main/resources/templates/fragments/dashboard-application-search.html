<th:block th:fragment="application-search(applications, count, pagination)" xmlns:th="http://www.w3.org/1999/html">

    <th:block th:insert="fragments/dashboard-application-search :: search-result-table(applications=${applications})" />
    <th:block th:insert="fragments/elements :: general-pagination(pagination=${pagination})" />
</th:block>

<th:block th:fragment="search-result-table(applications)" xmlns:th="http://www.w3.org/1999/html">
    <div class="table-overflow">
        <table>
            <thead>
            <tr>
                <th scope="col">Application number</th>
                <th scope="col">Project title</th>
                <th scope="col">Competition</th>
                <th scope="col">Application status</th>

            </tr>
            </thead>
            <tbody>
            <tr th:each="app : ${applications}">
                <td><a th:href="${'/management/competition/' + app.competition + '/application/' + app.id}" th:text="${app.id}"></a></td>
                <td th:text="${app.name}"></td>
                <th:block th:if="${app.isApproved()}">
                    <td><a th:href="${'/project-setup-management/competition/' + app.competition + '/status/all'}" th:text="${app.competitionName}"></a></td>
                </th:block>
                <th:block th:unless="${app.isApproved()}">
                    <td th:text="${app.competitionName}"></td>
                </th:block>
                <td th:text="${app.getApplicationStateDisplayName()}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</th:block>
