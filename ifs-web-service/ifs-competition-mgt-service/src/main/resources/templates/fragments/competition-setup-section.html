
<!-- =================== Comp setup section - Initial Details (1) ============================== -->
<th:block th:fragment="section-initial">
    <div class="page-title">
        <h1 class="heading-xlarge">Initial details</h1>
    </div>
    <div class="panel">
        This will create a new competition. You will be able to add more details later on.
    </div>

    <form th:action="@{(${editable} ? '' : 'initial/edit')}"
          th:attrappend="data-autosave=${setupComplete != true}?compSetup"
          th:attr="data-competition=${competition.id}" data-section="initial"
          method="post" th:object="${competitionSetupForm}" novalidate="novalidate">

        <div class="error-summary" th:if="${#fields.hasGlobalErrors()}">
            <h2 class="heading-medium error-summary-heading">
                Unable to save section
            </h2>

            <ul class="error-summary-list">
                <li th:each="err : ${#fields.globalErrors()}" th:text="${err}"></li>
            </ul>
        </div>

        <th:block th:if="${editable}" id="section-1-edit">
            <div th:class="${#fields.hasErrors('title')}? 'form-group error':'form-group'">
                <label class="form-label" for="title">
                    <span class="form-label-bold">Competition title</span>
                    <span th:if="${#fields.hasErrors('title')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('title')}" th:text="${err}" />
                    </span>
                </label>
                <input id="title"
                       th:class="${#fields.hasErrors('title') ? 'form-control field-error width-x-large' : 'form-control width-x-large'}"
                       type="text"
                       th:field="${competitionSetupForm.title}"
                       required="required"
                       th:attr="data-required-errormessage=#{validation.standard.title.required}"
                       th:readonly="${isSetupAndLive}" />
            </div>

            <div th:class="${#fields.hasErrors('competitionTypeId')}? 'form-group error':'form-group'">
                <label class="form-label" for="competitionTypeId">
                    <span class="form-label-bold">Competition type</span>
                    <span th:if="${#fields.hasErrors('competitionTypeId')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('competitionTypeId')}" th:text="${err}" />
                    </span>
                </label>
                <select class="form-control width-x-large"
                        th:disabled="${!#strings.isEmpty(restrictInitialDetailsEdit) or isSetupAndLive}"
                        name="competitionTypeId"
                        id="competitionTypeId"
                        required="required"
                        th:attr="data-required-errormessage=#{validation.initialdetailsform.competitiontypeid.required}">
                    <option value="" disabled="disabled" th:selected="${competitionSetupForm.competitionTypeId == null}">Please select &hellip;</option>
                    <option th:each="(competitionType : ${competitionTypes})" th:if="${competitionType.active}" th:attr="data-stateaid=${competitionType.stateAid}" th:text="${competitionType.name}"  th:value="${competitionType.id}" th:selected="${competitionSetupForm.competitionTypeId == competitionType.id}">Competition Type</option>
                </select>
                <input th:if="${!#strings.isEmpty(restrictInitialDetailsEdit) or isSetupAndLive}" type="hidden" th:field="${competitionSetupForm.competitionTypeId}" />
            </div>


            <div th:class="${#fields.hasErrors('innovationSectorCategoryId')}? 'form-group error':'form-group'">
                <label class="form-label" for="innovationSectorCategoryId">
                    <span class="form-label-bold">Innovation sector</span>
                    <span th:if="${#fields.hasErrors('innovationSectorCategoryId')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('innovationSectorCategoryId')}" th:text="${err}" />
                    </span>
                </label>

                <select th:disabled="${isSetupAndLive}"
                        th:readonly="${isSetupAndLive}"
                        class="form-control width-x-large"
                        id="innovationSectorCategoryId"
                        name="innovationSectorCategoryId"
                        required="required"
                        th:attr="data-required-errormessage=#{validation.initialdetailsform.innovationsectorcategoryid.required}"
                        data-autosave-disabled="">
                    <option value="" disabled="disabled" th:selected="${competitionSetupForm.innovationSectorCategoryId == null}">Please select &hellip;</option>
                    <option th:each="(innovationSector : ${innovationSectors})" th:text="${innovationSector.name}" th:value="${innovationSector.id}" th:selected="${competitionSetupForm.innovationSectorCategoryId == innovationSector.id}">Innovation Sector</option>
                </select>
                <input th:if="${isSetupAndLive}" type="hidden" th:field="${competitionSetupForm.innovationSectorCategoryId}" />
            </div>

            <th:block th:each="innovationAreaCategoryId,status : ${competitionSetupForm.innovationAreaCategoryIds}">
                <div th:class="${#fields.hasErrors('innovationAreaCategoryIds[__${status.index}__]')}? 'form-group error':'form-group'" th:id="innovation-row-__${status.index}__">
                    <label class="form-label" th:for="innovationAreaCategoryId-__${status.index}__">
                        <span class="form-label-bold" th:classappend="${status.index > 0} ? 'visuallyhidden': ''">Innovation area</span>
                        <span th:if="${#fields.hasErrors('innovationAreaCategoryIds[__${status.index}__]')}" th:remove="tag">
                              <span class="error-message"  th:each="err : ${#fields.errors('innovationAreaCategoryId')}" th:text="${err}" />
                        </span>
                    </label>
                    <select th:disabled="${isSetupAndLive}"
                            class="form-control width-x-large"
                            th:name="innovationAreaCategoryIds[__${status.index}__]"
                            th:id="innovationAreaCategoryId-__${status.index}__"
                            required="required"
                            data-autosave-disabled=""
                            th:attr="data-required-errormessage=#{validation.initialdetailsform.innovationareacategoryid.required}">
                        <option value="" disabled="disabled" th:selected="${competitionSetupForm.innovationAreaCategoryIds[__${status.index}__] == null}">Please select &hellip;</option>
                        <option th:each="(innovationArea : ${innovationAreas})" th:text="${innovationArea.name}" th:value="${innovationArea.id}" th:selected="${competitionSetupForm.innovationAreaCategoryIds[__${status.index}__] == innovationArea.id}">Innovation Area</option>
                    </select>
                    <input type="hidden" th:if="${isSetupAndLive}" th:field="${competitionSetupForm.innovationAreaCategoryIds}" />
                    <button th:if="${status.index > 0}" data-remove-row="innovationArea" class="buttonlink no-margin" th:value="${status.index}" type="button">Remove</button>
                </div>
            </th:block>
            <th:block th:if="${competitionSetupForm.innovationAreaCategoryIds == null or competitionSetupForm.innovationAreaCategoryIds.size() == 0}">
                <div th:class="${#fields.hasErrors('innovationAreaCategoryIds')}? 'form-group error':'form-group'" th:id="innovation-row-0">
                    <label class="form-label" th:for="innovationAreaCategoryId-0">
                        <span class="form-label-bold">Innovation area</span>
                        <span th:if="${#fields.hasErrors('innovationAreaCategoryIds')}" th:remove="tag">
                              <span class="error-message"  th:each="err : ${#fields.errors('innovationAreaCategoryIds')}" th:text="${err}" />
                        </span>
                    </label>
                    <select th:disabled="${isSetupAndLive}"
                            class="form-control width-x-large"
                            name="innovationAreaCategoryIds[0]"
                            id="innovationAreaCategoryId-0"
                            required="required"
                            data-autosave-disabled=""
                            th:attr="data-required-errormessage=#{validation.initialdetailsform.innovationareacategoryid.required}">
                        <option value="" disabled="disabled" selected="selected">Please select &hellip;</option>
                        <option th:each="(innovationArea : ${innovationAreas})" th:text="${innovationArea.name}" th:value="${innovationArea.id}">Innovation Area</option>
                    </select>
                    <input type="hidden" th:if="${isSetupAndLive}" th:field="${competitionSetupForm.innovationAreaCategoryIds[0]}" />
                </div>
            </th:block>
            <input type="hidden" name="autosaveInnovationAreaIds" />
            <div class="form-group">
                <button class="buttonlink" type="button" data-add-row="innovationArea">+ add another innovation area</button>
            </div>

            <div id="openingDate" th:class="${#fields.hasErrors('openingDate*')}? 'form-group error':'form-group'">
                <fieldset>
                    <legend>
                      <span class="heading-small">Opening date</span>
                      <th:block th:if="${#fields.hasErrors('openingDate*')}">
                            <span class="error-message"  th:each="err : ${#fields.errors('openingDate*')}" th:text="${err}" />
                      </th:block>
                    </legend>
                    <p class="form-hint">You are able to edit this date if needed in the milestones section.</p>
                    <div class="date-group" data-future-date="">
                        <input type="hidden" name="openingDate" />
                        <div class="day">
                            <label class="form-label" for="openingDateDay">
                                <span>Day</span>
                            </label>
                            <input th:readonly="${isSetupAndLive}"
                                 th:class="${#fields.hasErrors('openingDateDay') ? 'form-control field-error width-extra-small' : 'form-control width-extra-small'}"
                                 type="number"
                                 placeholder="DD"
                                 min="1"
                                 max="31"
                                 required="required"
                                 th:attr="data-required-errormessage=#{validation.initialdetailsform.openingdateday.required}"
                                 th:disabled="${!#strings.isEmpty(restrictInitialDetailsEdit)}"
                                 th:field="${competitionSetupForm.openingDateDay}" />
                            <input th:if="${!#strings.isEmpty(restrictInitialDetailsEdit)}" type="hidden" th:field="${competitionSetupForm.openingDateDay}" />
                        </div>

                        <div class="month">
                            <label class="form-label" for="openingDateMonth">
                                <span>Month</span>
                            </label>
                            <input th:readonly="${isSetupAndLive}" th:class="${#fields.hasErrors('openingDateMonth') ? 'form-control field-error width-extra-small' : 'form-control width-extra-small'}"
                                 type="number"
                                 placeholder="MM"
                                 required="required"
                                 min="1"
                                 max="12"
                                 th:attr="data-required-errormessage=#{validation.initialdetailsform.openingdatemonth.required}"
                                 th:disabled="${!#strings.isEmpty(restrictInitialDetailsEdit)}"
                                 th:field="${competitionSetupForm.openingDateMonth}" />
                            <input th:if="${!#strings.isEmpty(restrictInitialDetailsEdit)}" type="hidden" th:field="${competitionSetupForm.openingDateMonth}" />
                        </div>

                        <div class="year">
                            <label class="form-label" for="openingDateYear">
                                <span>Year</span>
                            </label>
                            <input th:readonly="${isSetupAndLive}" th:class="${#fields.hasErrors('openingDateYear') ? 'form-control field-error width-extra-small' : 'form-control width-extra-small'}"
                                 type="number"
                                 placeholder="YYYY"
                                 required="required"
                                 th:attr="data-required-errormessage=#{validation.initialdetailsform.openingdateyear.required}"
                                 th:disabled="${!#strings.isEmpty(restrictInitialDetailsEdit)}"
                                 th:field="${competitionSetupForm.openingDateYear}" />
                            <input th:if="${!#strings.isEmpty(restrictInitialDetailsEdit)}" type="hidden" th:field="${competitionSetupForm.openingDateYear}" />
                        </div>
                    </div>
                </fieldset>
            </div>

            <div th:class="${#fields.hasErrors('leadTechnologistUserId')}? 'form-group error':'form-group'">
                <label class="form-label" for="leadTechnologistUserId">
                    <span class="form-label-bold">Competition Innovation Lead</span>
                    <span th:if="${#fields.hasErrors('leadTechnologistUserId')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('leadTechnologistUserId')}" th:text="${err}" />
                    </span>
                </label>
                <select class="form-control width-x-large"
                        name="leadTechnologistUserId"
                        id="leadTechnologistUserId"
                        required="required"
                        th:attr="data-required-errormessage=#{validation.initialdetailsform.leadtechnologistuserid.required}">
                    <option value="" th:selected="${competitionSetupForm.leadTechnologistUserId == null}" disabled="disabled">Please select &hellip;</option>
                    <option th:each="(competitionLeadTechUser : ${competitionLeadTechUsers})" th:text="${competitionLeadTechUser.name}" th:value="${competitionLeadTechUser.id}" th:selected="${competitionSetupForm.leadTechnologistUserId == competitionLeadTechUser.id}">Innovation Lead</option>
                </select>
            </div>

            <div th:class="${#fields.hasErrors('executiveUserId')}? 'form-group error':'form-group'">
                <label class="form-label" for="executiveUserId">
                    <span class="form-label-bold">Competition Executive</span>
                    <span th:if="${#fields.hasErrors('executiveUserId')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('executiveUserId')}" th:text="${err}" />
                    </span>
                </label>
                <select class="form-control width-medium"
                        name="executiveUserId"
                        id="executiveUserId"
                        required="required"
                        th:attr="data-required-errormessage=#{validation.initialdetailsform.executiveuserid.required}">
                    <option value="" disabled="disabled" th:selected="${competitionSetupForm.executiveUserId == null}">Please select &hellip;</option>
                    <option th:each="(competitionExecutiveUser : ${competitionExecutiveUsers})" th:text="${competitionExecutiveUser.name}" th:value="${competitionExecutiveUser.id}" th:selected="${competitionSetupForm.executiveUserId == competitionExecutiveUser.id}">User</option>
                </select>
            </div>

            <div class="form-group" th:attr="aria-hidden=${competitionSetupForm.competitionTypeId == null ? 'true' : 'false'}" id="stateAid">
                <h3 class="heading-small">State aid</h3>
                <p>
                  <span th:each="(competitionType : ${competitionTypes})" th:remove="tag">
                      <span class="yes" th:if="${competitionSetupForm.competitionTypeId == competitionType.id and competitionType.stateAid == true}">Yes</span>
                      <span class="no" th:if="${competitionSetupForm.competitionTypeId == competitionType.id and competitionType.stateAid == false}">No</span>
                  </span>
                </p>
            </div>

            <input type="hidden" name="unrestricted" value="1" th:if="${#strings.isEmpty(restrictInitialDetailsEdit)}" />

            <button class="button">
                Done
            </button>
        </th:block>

        <th:block th:if="${!editable}" id="section-1-">
            <dl class="standard-definition-list">
                <dt>Competition title</dt>
                <dd th:text="${competitionSetupForm.title}"></dd>

                <dt>Competition type</dt>
                <dd th:each="(competitionType : ${competitionTypes})" th:text="${competitionType.name}"  th:if="${competitionType.id == competitionSetupForm.competitionTypeId}">Competition Type</dd>

                <dt>Innovation sector</dt>
                <dd th:each="(innovationSector : ${innovationSectors})" th:if="${innovationSector.id == competitionSetupForm.innovationSectorCategoryId}" th:text="${innovationSector.name}">Innovation Sector</dd>

                <dt>Innovation area</dt>
                <dd th:text="${competitionSetupForm.innovationAreaNamesFormatted}"></dd>


                <dt>Opening date</dt>
                <dd th:text="${competitionSetupForm.openingDateDay+'/'+competitionSetupForm.openingDateMonth+'/'+competitionSetupForm.openingDateYear}"></dd>

                <dt>Competition Lead</dt>
                <dd th:each="(competitionLeadTechUser : ${competitionLeadTechUsers})" th:text="${competitionLeadTechUser.name}" th:if="${competitionLeadTechUser.id == competitionSetupForm.leadTechnologistUserId}">Innovation Lead</dd>

                <dt>Competition Executive</dt>
                <dd th:each="(competitionExecutiveUser : ${competitionExecutiveUsers})" th:text="${competitionExecutiveUser.name}" th:if="${competitionSetupForm.executiveUserId == competitionExecutiveUser.id}">User</dd>

               <dt>State aid</dt>
                <dd>
                    <span th:each="(competitionType : ${competitionTypes})" th:remove="tag">
                        <span class="yes" th:if="${competitionSetupForm.competitionTypeId == competitionType.id and competitionType.stateAid == true}">Yes</span>
                        <span class="no" th:if="${competitionSetupForm.competitionTypeId == competitionType.id and competitionType.stateAid == false}">No</span>
                    </span>
                </dd>
               </dl>

            <button th:unless="${preventEdit}" type="submit" class="button">Edit</button>
        </th:block>

    </form>
    <ul class="pagination" th:if="${isInitialComplete}">
        <li class="next">
            <a rel="next" title="Navigate to next part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='additional')}">
                <span class="pagination-label">Next</span>
                <span class="pagination-part-title">Funding information</span>
            </a>
        </li>
    </ul>


</th:block>

<!-- =================== Comp setup section - Additional info (2) ============================== -->
<th:block th:fragment="section-additional">
    <div class="page-title">
        <h1 class="heading-xlarge">Funding information</h1>
    </div>

    <form th:attr="data-competition=${competition.id},data-autosave=${setupComplete != true}?compSetup" data-section="additional"
          th:action="@{(${editable} ? '' : 'additional/edit')}"
          method="post" th:object="${competitionSetupForm}" novalidate="novalidate">

        <div class="error-summary" th:attr="aria-hidden=${!#fields.hasAnyErrors()}">
            <h2 class="heading-medium error-summary-heading">
                Unable to save section
            </h2>

            <ul class="error-summary-list">
                <li th:each="err : ${#fields.allErrors()}" th:text="${err}"></li>
            </ul>
        </div>

        <fieldset th:if="${editable}">
            <legend class="visuallyhidden">Funding information</legend>
            <div class="grid-row">
                <div class="column-half">
                    <div class="form-group">
                        <span class="form-label-bold">Funder</span>
                    </div>
                </div>

                <div class="column-half">
                    <div class="form-group">
                        <span class="form-label-bold">Budget</span>
                    </div>
                </div>
            </div>

            <div th:each="(funder, iteration : ${competitionSetupForm.funders})" class="grid-row funder-row" th:id="'funder-row-'+${iteration.index}">
                <div class="column-half">
                    <div th:class="${#fields.hasErrors('funders[__${iteration.index}__].funder')}? 'form-group error':'form-group'">
                        <label class="form-label" th:for="funders[__${iteration.index}__].funder">
                            <th:block th:if="${#fields.hasErrors('funders[__${iteration.index}__].funder')}">
                                <span class="error-message"  th:each="err : ${#fields.errors('funders[__${iteration.index}__].funder')}" th:text="${err}" />
                            </th:block>
                        </label>
                        <input required="required" class="form-control width-x-large"
                               th:class="${#fields.hasErrors('funders[__${iteration.index}__].funder') ? 'form-control field-error width-x-large' : 'form-control width-x-large'}"
                               th:field="${competitionSetupForm.funders[__${iteration.index}__].funder}"
                               th:attr="data-required-errormessage=#{validation.additionalinfoform.fundername.required},
                                        data-maxlength-errormessage=#{validation.additionalinfoform.funder.size(null,null,'255')}" />
                    </div>
                </div>

                <div class="column-half">
                    <div th:class="${#fields.hasErrors('funders[__${iteration.index}__].funderBudget')}? 'form-group error':'form-group'">
                        <label class="form-label" th:for="funders[__${iteration.index}__].funderBudget">
                            <th:block th:if="${#fields.hasErrors('funders[__${iteration.index}__].funderBudget')}">
                                <span class="error-message"  th:each="err : ${#fields.errors('funders[__${iteration.index}__].funderBudget')}" th:text="${err}" />
                            </th:block>
                        </label>
                        <input required="required" type="number" min="0"
                               th:class="${#fields.hasErrors('funders[__${iteration.index}__].funderBudget') ? 'form-control field-error width-x-large' : 'form-control width-x-large'}"
                               th:id="${iteration.index}+'-funderBudget'"
                               th:field="${competitionSetupForm.funders[__${iteration.index}__].funderBudget}"
                               value=""
                               th:attr="data-required-errormessage=#{validation.additionalinfoform.funderbudget.required},
                                        data-min-errormessage=#{validation.additionalinfoform.funderbudget.min}" />
                        <input type="hidden"
                               th:field="${competitionSetupForm.funders[__${iteration.index}__].coFunder}"
                               th:value="${iteration.index != 0}" />

                        <button th:unless="${isSetupAndAfterNotifications}" th:if="${iteration.index != 0}" class="buttonlink alignright" data-remove-row="cofunder" name="remove-funder" th:value="${iteration.index}"
                                th:id="'remove-funder-' + ${iteration.index}">Remove</button>
                    </div>
                </div>
            </div>


            <div class="grid-row" id="dynamic-row-pointer">
                <div class="column-half">
                    &nbsp;
                </div>
                <div class="column-half">
                    <p class="heading-small no-margin">Total: <span data-calculation-operations="+" data-calculation-fields="input[id*=funderBudget]" th:text="${competitionSetupForm.totalFunding == 0 ? '' : '&pound;' + #numbers.formatDecimal(competitionSetupForm.totalFunding, 0, 'COMMA', 0, 'POINT')}">Â£0</span></p>

                    <div class="alignright">
                        <input type="hidden" name="removeFunder" />
                        <button class="buttonlink" name="add-cofunder" data-add-row="cofunder">+Add co-funder</button>
                    </div>
                </div>
            </div>

            <hr />

            <fieldset>
                <legend class="heading-medium">Reporting fields</legend>

                <div th:class="${#fields.hasErrors('pafNumber')}? 'form-group error':'form-group'">
                    <label class="form-label" for="pafNumber">
                        <span class="form-label-bold">PAF number</span>
                    <span th:if="${#fields.hasErrors('pafNumber')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('pafNumber')}" th:text="${err}" />
                    </span>
                    </label>
                    <input th:class="${#fields.hasErrors('pafNumber') ? 'form-control field-error width-large' : 'form-control width-large'}"
                           type="text"
                           th:field="${competitionSetupForm.pafNumber}" />
                </div>

                <div th:class="${#fields.hasErrors('budgetCode')}? 'form-group error':'form-group'">
                    <label class="form-label" for="budgetCode">
                        <span class="form-label-bold">Budget code</span>
                    <span th:if="${#fields.hasErrors('budgetCode')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('budgetCode')}" th:text="${err}" />
                    </span>
                    </label>
                    <input th:class="${#fields.hasErrors('budgetCode') ? 'form-control field-error width-large' : 'form-control width-large'}"
                           type="text"
                           th:field="${competitionSetupForm.budgetCode}" />
                </div>


                <div th:class="${#fields.hasErrors('activityCode')}? 'form-group error':'form-group'">
                    <label class="form-label" for="competitionSetupForm.activityCode">
                        <span class="form-label-bold">Activity code</span>
                        <span th:if="${#fields.hasErrors('activityCode')}" th:remove="tag">
                            <span class="error-message"  th:each="err : ${#fields.errors('activityCode')}" th:text="${err}" />
                        </span>
                    </label>
                    <input  th:class="${#fields.hasErrors('activityCode') ? 'form-control field-error width-large' : 'form-control width-large'}"
                            type="text"
                            th:field="${competitionSetupForm.activityCode}"
                            maxlength="255"
                            th:attr="data-maxlength-errormessage=#{validation.additionalinfoform.activitycode.size}" />

                </div>

                <div th:class="${#fields.hasErrors('competitionCode')}? 'form-group error':'form-group'">
                    <label class="form-label" for="competitionCode">
                        <span class="form-label-bold">Competition code</span>
                    <span th:if="${#fields.hasErrors('competitionCode')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('competitionCode')}" th:text="${err}" />
                    </span>
                    </label>
                    <input readonly="readonly"
                           th:class="${#fields.hasErrors('competitionCode') ? 'form-control field-error width-large' : 'form-control width-large'}"
                           type="text"
                           name="competitionCode"
                           th:value="${competitionSetupForm.competitionCode}"
                           required="required"
                           th:attr="data-required-errormessage=#{validation.additionalinfoform.competitioncode.required}"
                           data-autosave-disabled="data-autosave-disabled"/>
                    <button class="button button-secondary" th:disabled="${isSetupAndLive}" th:if="${#strings.isEmpty(competitionSetupForm.competitionCode)}" type="submit" name="generate-code" id="generate-code" th:value="${competition.id}">Generate code</button>
                </div>
            </fieldset>

            <button class="button">Done</button>
        </fieldset>

        <fieldset th:if="${!editable}" id="section-2-">
            <table>
                <thead>
                <tr>
                    <th scope="col">Funder</th>
                    <th scope="col" class="numeric">Budget</th>
                </tr>
                </thead>
                <tfoot>
                <tr>
                    <th>Total</th>
                    <td class="numeric" th:text="${competitionSetupForm.totalFunding == 0 ? '' : '&pound;' + #numbers.formatDecimal(competitionSetupForm.totalFunding, 0, 'COMMA', 0, 'POINT')}">Total</td>
                </tr>
                </tfoot>
                <tbody>
                <tr  th:each="(funder, iteration : ${competitionSetupForm.funders})">
                    <th:block th:if="iteration == 0">
                        <td th:text="${funder.funder}">Funder Name</td>
                        <td class="numeric" th:text="${funder?.funderBudget != null} ? ${'&pound;' + #numbers.formatDecimal(funder?.funderBudget, 0, 'COMMA', 0, 'POINT')}">Funder Budget</td>
                    </th:block>
                    <th:block th:unless="iteration == 0">
                        <td th:text="${funder.funder}">Co-Funder Name</td>
                        <td class="numeric" th:text="${funder?.funderBudget != null} ? ${'&pound;' + #numbers.formatDecimal(funder?.funderBudget, 0, 'COMMA', 0, 'POINT')}">Co-Funder Budget</td>
                    </th:block>
                </tr>
                </tbody>
            </table>

            <dl class="standard-definition-list extra-margin">
                <dt>PAF number</dt>
                <dd th:text="${competitionSetupForm.pafNumber}">PAF Number</dd>
                <dt>Budget code</dt>
                <dd th:text="${competitionSetupForm.budgetCode}">Budget Code</dd>
                <dt>Activity code</dt>
                <dd th:text="${competitionSetupForm.activityCode}">Activity Code</dd>
                <dt>Competition code</dt>
                <dd th:text="${competitionSetupForm.competitionCode}">Competition Code</dd>
            </dl>

            <button th:unless="${preventEdit}" type="submit" class="button">Edit</button>
        </fieldset>

    </form>
    <ul class="pagination">
        <li class="prev">
            <a rel="prev" title="Navigate to next part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='initial')}">
                <span class="pagination-label">Previous</span>
                <span class="pagination-part-title">Initial details</span>
            </a>
        </li>
        <li class="next">
            <a rel="next" title="Navigate to next part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='eligibility')}">
                <span class="pagination-label">Next</span>
                <span class="pagination-part-title">Eligibility</span>
            </a>
        </li>
    </ul>
</th:block>

<!-- =================== Comp setup section - Eligibility (3) ============================== -->
<th:block th:fragment="section-eligibility">
    <div class="page-title">
        <h1 class="heading-xlarge">Eligibility</h1>
    </div>

    <form th:action="@{(${editable} ? '' : 'eligibility/edit')}" method="post"
          th:object="${competitionSetupForm}" novalidate="novalidate"
          th:attr="data-competition=${competition.id}"
          data-autosave="compSetup" data-section="eligibility">

        <fieldset th:if="${editable}" id="section-3-edit">

            <legend class="visuallyhidden">Eligibility</legend>

            <!-- INFUND-5682 : Competition streams options have been hidden rather than removed, since they will be required when new competition types are added -->
            <div style="display: none">
                <div th:class="${#fields.hasErrors('multipleStream')}? 'form-group error':'form-group'">
                    <fieldset class="inline">
                        <legend>
                            <!--<span class="form-label-bold">Stream</span>-->
                            <span class="form-label-bold">Does the competition have multiple streams?</span>
                            <span th:if="${#fields.hasErrors('multipleStream')}" th:remove="tag">
                                  <span class="error-message"  th:each="err : ${#fields.errors('multipleStream')}" th:text="${err}" />
                            </span>
                        </legend>
                        <label class="block-label selection-button-radio" for="comp-stream-yes" data-target="competition-stream-name-fields">
                            <input id="comp-stream-yes"
                                   value="yes"
                                   type="radio"
                                   th:field="*{multipleStream}"
                                   required="required"
                                   th:attr="data-required-errormessage=#{validation.eligibilityform.multiplestream.required}" />
                        Yes
                        </label>
                        <label class="block-label selection-button-radio" for="comp-stream-no">
                            <input id="comp-stream-no"
                                   value="no"
                                   type="radio"
                                   th:field="*{multipleStream}"
                                   required="required"
                                   th:attr="data-required-errormessage=#{validation.eligibilityform.multiplestream.required}" />
                        No
                        </label>
                    </fieldset>
                </div>

                <div id="competition-stream-name-fields" class="form-group js-hidden"  th:classappend="${#fields.hasErrors('streamName')}? 'error':''">
                    <fieldset class="inline">
                        <legend>
                            <label class="form-label" for="streamName">
                                <span class="form-label-bold">Stream name</span>
                                <span th:if="${#fields.hasErrors('streamName')}" th:remove="tag">
                                      <span class="error-message"  th:each="err : ${#fields.errors('streamName')}" th:text="${err}" />
                                </span>
                            </label>
                        </legend>

                        <input th:class="${#fields.hasErrors('streamName') ? 'form-control field-error width-x-large' : 'form-control width-x-large'}"
                               type="text"
                               th:field="*{streamName}"
                               maxlength="255"
                               required="required"
                               th:attr="data-required-errormessage=#{validation.eligibilityform.multiplestream.required},
                                        data-maxlength-errormessage=#{validation.eligibilityform.streamname.length.max(null,null,255)}" />
                    </fieldset>
                </div>
            </div>

            <div th:class="${#fields.hasErrors('singleOrCollaborative')}? 'form-group error':'form-group'">
                <fieldset class="inline">
                    <legend>
                        <span class="form-label-bold">Please choose the project type.</span>
                        <span th:if="${#fields.hasErrors('singleOrCollaborative')}" th:remove="tag">
                              <span class="error-message"  th:each="err : ${#fields.errors('singleOrCollaborative')}" th:text="${err}" />
                        </span>
                    </legend>

                    <label th:each="collaborationLevel : ${collaborationLevels}" class="block-label selection-button-radio" th:for="${'single-or-collaborative-' + collaborationLevel.code}">
                        <input th:id="${'single-or-collaborative-' + collaborationLevel.code}"
                               name="singleOrCollaborative"
                               th:value="${collaborationLevel.code}"
                               type="radio"
                               th:checked="${competitionSetupForm.singleOrCollaborative == collaborationLevel.code}"
                               required="required"
                               th:attr="data-required-errormessage=#{validation.eligibilityform.singleorcollaborative.required}" />
                        <span th:text="${collaborationLevel.name}" th:remove="tag" />
                    </label>
                </fieldset>
            </div>


            <div th:class="${#fields.hasErrors('researchCategoryId')}? 'form-group error':'form-group'">
                <fieldset class="inline">
                    <legend>
                        <span class="form-label-bold">Please choose the research categories.</span>
                        <span th:if="${#fields.hasErrors('researchCategoryId')}" th:remove="tag">
                              <span class="error-message"  th:each="err : ${#fields.errors('researchCategoryId')}" th:text="${err}" />
                        </span>
                    </legend>

                    <label class="block-label selection-button-checkbox" th:each="researchCategory : ${researchCategories}" th:for="${'research-categories-' + researchCategory.id}">
                        <input th:value="${researchCategory.id}"
                                type="checkbox"
                                name="researchCategoryId"
                                th:id="${'research-categories-' + researchCategory.id}"
                                th:checked="${competitionSetupForm.includesResearchCategory(researchCategory.id)}"
                                required="required"
                                th:attr="data-required-errormessage=#{validation.eligibilityform.researchcategoryid.required}" />
                        <span th:text="${researchCategory.name}" th:remove="tag" />
                    </label>
                </fieldset>
            </div>


            <div th:class="${#fields.hasErrors('leadApplicantType')}? 'form-group error':'form-group'">
                <fieldset class="inline">
                    <legend>
                       <span class="form-label-bold">Lead applicant</span>
                       <span class="hint">Select the lead applicant type required.</span>
                       <span th:if="${#fields.hasErrors('leadApplicantType')}" th:remove="tag">
                         <span class="error-message"  th:each="err : ${#fields.errors('leadApplicantType')}" th:text="${err}" />
                       </span>
                    </legend>

                     <label th:each="leadApplicantType : ${leadApplicantTypes}" class="block-label selection-button-radio" th:for="${'lead-applicant-type-' + leadApplicantType.code}">
                        <input th:id="${'lead-applicant-type-' + leadApplicantType.code}"
                               name="leadApplicantType"
                               th:value="${leadApplicantType.code}"
                               type="radio"
                               th:checked="${competitionSetupForm.leadApplicantType == leadApplicantType.code}"
                               required="required"
                               th:attr="data-required-errormessage=#{validation.eligibilityform.leadapplicanttype.required}" />
                        <span th:text="${leadApplicantType.name}" th:remove="tag" />
                     </label>
                </fieldset>
            </div>

            <div th:class="${#fields.hasErrors('researchParticipationAmountId')}? 'form-group error':'form-group'">
                <fieldset class="inline">
                    <legend>
                        <span class="form-label-bold">Research participation</span>
                        <span class="hint">This indicates the maximum level of research participation allowed.</span>
                        <span th:if="${#fields.hasErrors('researchParticipationAmountId')}" th:remove="tag">
                              <span class="error-message"  th:each="err : ${#fields.errors('researchParticipationAmountId')}" th:text="${err}" />
                        </span>
                    </legend>
                    <select class="form-control width-large"
                            name="researchParticipationAmountId"
                            id="researchParticipation"
                            required="required"
                            th:attr="data-required-errormessage=#{validation.eligibilityform.researchparticipationamountId.required}">
                        <option th:each="researchParticipationAmount : ${researchParticipationAmounts}" th:text="${researchParticipationAmount.name}" th:value="${researchParticipationAmount.id}" th:selected="${competitionSetupForm.researchParticipationAmountId == researchParticipationAmount.id}">Research participation</option>
                    </select>
                </fieldset>
            </div>

            <div th:class="${#fields.hasErrors('resubmission')}? 'form-group error':'form-group'">
                <fieldset class="inline">
                    <legend>
                        <span class="form-label-bold">Are resubmissions allowed?</span>
                        <span class="hint">Are applicants able to resubmit an application?</span>
                        <span th:if="${#fields.hasErrors('resubmission')}" th:remove="tag">
                              <span class="error-message"  th:each="err : ${#fields.errors('resubmission')}" th:text="${err}" />
                        </span>
                    </legend>
                    <label class="block-label selection-button-radio" for="comp-resubmissions-yes">
                        <input id="comp-resubmissions-yes"
                               value="yes"
                               type="radio"
                               th:field="*{resubmission}"
                               required="required"
                               th:attr="data-required-errormessage=#{validation.eligibilityform.resubmission.required}" />
                        Yes
                    </label>
                    <label class="block-label selection-button-radio" for="comp-resubmissions-no">
                        <input id="comp-resubmissions-no"
                               value="no"
                               type="radio"
                               th:field="*{resubmission}"
                               required="required"
                               th:attr="data-required-errormessage=#{validation.eligibilityform.resubmission.required}" />
                        No
                    </label>
                </fieldset>
            </div>

            <button class="button">Done</button>
        </fieldset>

        <fieldset th:if="${!editable}" id="section-3-">

            <dl class="standard-definition-list">
                <!-- INFUND-5682 : Competition streams options have been hidden rather than removed, since they will be required when new competition types are added -->
                <div style="display: none">
                    <dt>Multiple Stream</dt>
                    <dd th:text="${#strings.capitalize(competitionSetupForm.multipleStream)}"></dd>

                    <div th:if="${'yes' == competitionSetupForm.multipleStream}" th:remove="tag">
                        <dt>Stream name</dt>
                        <dd th:text="${competitionSetupForm.streamName}"></dd>
                    </div>
                </div>

                <dt>Project type</dt>
                <dd th:each="(collaborationLevel : ${collaborationLevels})" th:if="${collaborationLevel.code == competitionSetupForm.singleOrCollaborative}" th:text="${collaborationLevel.name}">Collaboration level</dd>

                <dt>Research categories</dt>
                <dd th:text="${researchCategoriesFormatted}"></dd>

                <dt>Lead applicant</dt>
                <dd th:each="(leadApplicantType : ${leadApplicantTypes})" th:if="${leadApplicantType.code == competitionSetupForm.leadApplicantType}" th:text="${leadApplicantType.name}">Lead applicant type</dd>

                <dt>Research participation</dt>
                <dd th:each="(researchParticipationAmount : ${researchParticipationAmounts})" th:if="${researchParticipationAmount.id == competitionSetupForm.researchParticipationAmountId}" th:text="${researchParticipationAmount.name}">Research category</dd>

                <dt>Are resubmissions allowed?</dt>
                <dd th:text="${#strings.capitalize(competitionSetupForm.resubmission)}"></dd>

            </dl>

            <button th:unless="${preventEdit}" type="submit" class="button">Edit</button>
        </fieldset>

    </form>
    <ul class="pagination">
        <li class="prev">
            <a rel="prev" title="Navigate to next part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='additional')}">
                <span class="pagination-label">Previous</span>
                <span class="pagination-part-title">Funding Information</span>
            </a>
        </li>
        <li class="next">
            <a rel="next" title="Navigate to next part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='milestones')}">
                <span class="pagination-label">Next</span>
                <span class="pagination-part-title">Milestones</span>
            </a>
        </li>
    </ul>
</th:block>

<!-- =================Section: Milestones (4) =========================== -->
<th:block th:fragment="section-milestones">

    <div class="page-title">
        <h1 class="heading-xlarge">Milestones</h1>
    </div>

    <div class="panel">
        Define the competition milestones. Make sure that dates are in order of milestones, for example the briefing date cannot come after the submission date.
    </div>

    <form th:action="@{(${editable} ? '' : 'milestones/edit')}"
          th:attrappend="data-autosave=${setupComplete != true}?compSetup"
          th:attr="data-competition=${competition.id}" data-section="milestones"
          method="post" th:object="${competitionSetupForm}" novalidate="novalidate">

        <div class="error-summary" th:attr="aria-hidden=${!#fields.hasAnyErrors()}">
           <h2 class="heading-medium error-summary-heading">
               Unable to save section
           </h2>

           <ul class="error-summary-list">
               <li th:each="err : ${#fields.allErrors()}" th:text="${err}"></li>
           </ul>
       </div>

        <fieldset th:if="${editable}" id="section-4-edit">


            <legend class="visuallyhidden">Milestones</legend>

            <table class="milestones-table">
                <thead>
                <tr>
                    <th scope="col" id="milestone">Milestone</th>
                    <th scope="col">Time</th>
                    <th scope="col">Weekday</th>
                    <th scope="col">Day</th>
                    <th scope="col">Month</th>
                    <th scope="col">Year</th>
                </tr>
                </thead>
                <tbody>
                  <tr th:each="(milestoneEntry : ${competitionSetupForm.milestoneEntries})"
                      th:if="${milestoneEntry.value.milestoneType.presetDate}"
                      class="date-group form-group-row"
                      data-future-date=""
                      th:attr="data-date-invalid-errormessage=${milestoneEntry.value.milestoneType.milestoneDescription + ': Please enter a valid date.'},
                               data-date-future-errormessage=${milestoneEntry.value.milestoneType.milestoneDescription  + ': Please enter a future date' + (milestoneEntry.value.firstMilestone ? '' : ' that is after the previous milestone') + '.'}">

                      <th scope="row" th:id="${'milestone-' + milestoneEntry.key}">
                        <span th:text="${milestoneEntry.value.milestoneType.milestoneDescription}" />
                      </th>
                      <input type="hidden"
                             required="required"
                             th:name="'milestoneEntries[' + ${milestoneEntry.key} + '].milestoneType'"
                             th:value="${milestoneEntry.key}" />
                      <td class="time">
                          <select th:if="${milestoneEntry.value.timeOption}"
                                  th:id="'milestoneEntries[' + ${milestoneEntry.key} + '].time'"
                                  class="form-control width-large"
                                  required="required"
                                  th:name="'milestoneEntries[' + ${milestoneEntry.key} + '].time'"
                                  th:readonly="${!milestoneEntry.value.editableForCompetition(competition)}">
                              <option th:each="time : ${T(org.innovateuk.ifs.competitionsetup.form.MilestoneTime).values()}"
                                      th:text="${time.display}" th:value="${time}" th:attr="data-time=${time.hour}" th:selected="${time == milestoneEntry.value.time}"></option>
                          </select>
                          <th:block th:if="${milestoneEntry.value.middayTime}" >
                              12:00 pm
                            <input type="hidden"
                                data-time="12"
                                th:name="'milestoneEntries[' + ${milestoneEntry.key} + '].time'"
                                th:id="'milestoneEntries[' + ${milestoneEntry.key} + '].time'"
                                th:value="${T(org.innovateuk.ifs.competitionsetup.form.MilestoneTime).TWELVE_PM}">
                          </th:block>
                      </td>
                      <td class="js-addWeekDay" th:text="${milestoneEntry.value.dayOfWeek}"></td>
                      <td class="day">
                          <input type="number"
                                 placeholder="DD"
                                 min="1"
                                 max="31"
                                 data-maxlength-errormessage=""
                                 required="required"
                                 class="form-control width-small"
                                 th:attr="aria-labelledby=${'milestone-' + milestoneEntry.key},
                                           data-date=${milestoneEntry.value.day+'-'+milestoneEntry.value.month+'-'+milestoneEntry.value.year}"
                                 th:value="${milestoneEntry.value.day}"
                                 th:name="'milestoneEntries[' + ${milestoneEntry.key} + '].day'"
                                 th:readonly="${!milestoneEntry.value.editableForCompetition(competition)}" />
                      </td>
                      <td class="month">
                          <input type="number"
                                placeholder="MM"
                                min="1"
                                max="12"
                                required="required"
                                class="form-control width-small"
                                th:attr="aria-labelledby=${'milestone-' + milestoneEntry.key},data-date=${milestoneEntry.value.day+'-'+milestoneEntry.value.month+'-'+milestoneEntry.value.year}"
                                th:value="${milestoneEntry.value.month}"
                                th:name="'milestoneEntries[' + ${milestoneEntry.key} + '].month'"
                                th:readonly="${!milestoneEntry.value.editableForCompetition(competition)}"/>
                      </td>
                      <td class="year" >
                          <input type="number"
                                 placeholder="YYYY"
                                 th:attr="aria-labelledby=${'milestone-' + milestoneEntry.key},
                                 data-date=${milestoneEntry.value.day+'-'+milestoneEntry.value.month+'-'+milestoneEntry.value.year},
                                 min=${#dates.format(#dates.createNow(), 'yyyy')}"
                                 required="required"
                                 class="form-control width-small"
                                 th:value="${milestoneEntry.value.year}"
                                 th:name="'milestoneEntries[' + ${milestoneEntry.key} + '].year'"
                                 th:readonly="${!milestoneEntry.value.editableForCompetition(competition)}" />
                          </td>
                    </tr>
                </tbody>
            </table>
            <button class="button extra-margin">Done</button>

        </fieldset>

        <th:block th:unless="${editable}">
            <table>
                <thead>
                    <tr>
                        <th scope="col" id="milestone">Milestone</th>
                        <th scope="col">Time</th>
                        <th scope="col">Weekday</th>
                        <th scope="col">Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="milestoneEntry : ${competitionSetupForm.milestoneEntries}"
                        th:if="${milestoneEntry.value.milestoneType.presetDate}">
                        <td th:text="${milestoneEntry.value.milestoneType.milestoneDescription}"></td>
                        <td>
                            <th:block th:if="${milestoneEntry.value.timeOption}" th:text="${milestoneEntry.value.time.display}"/>
                            <th:block th:if="${milestoneEntry.value.middayTime}">12:00 pm</th:block>
                        </td>
                        <td th:text="${milestoneEntry.value.dayOfWeek}"></td>
                        <td th:text="${#temporals.format(milestoneEntry.value.date, 'd MMMM yyyy')}"></td>
                    </tr>
                </tbody>
            </table>
            <button th:unless="${preventEdit}" type="submit" class="button extra-margin">Edit</button>
        </th:block>
    </form>

    <ul class="pagination">
        <li class="prev">
            <a rel="prev" title="Navigate to next part"
               th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='eligibility')}">
                <span class="pagination-label">Previous</span>
                <span class="pagination-part-title">Eligibility</span>
            </a>
        </li>
        <li class="next">
            <a rel="next" title="Navigate to next part"
               th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='application')}">
                <span class="pagination-label">Next</span>
                <span class="pagination-part-title">Application</span>
            </a>
        </li>
    </ul>
</th:block>

<!-- =================== Comp setup section - Application questions (5) ============================== -->
<th:block th:fragment="section-application">

    <div class="page-title">
        <h1 class="heading-xlarge">Application process</h1>
    </div>

    <form th:action="@{${#ifsUtil.uriWithQueryString(#httpServletRequest)}}" method="post" th:object="${competitionSetupForm}" novalidate="novalidate">

        <div class="error-summary" th:attr="aria-hidden=${!#fields.hasAnyErrors()}">
            <h2 class="heading-medium error-summary-heading">
                Unable to mark as complete.
            </h2>
            <ul class="error-summary-list">
                <li>view the application section(s) to resolve the error.</li>
            </ul>

        </div>

        <h2 class="heading-medium extra-margin" th:text="${competition.competitionTypeName+' competition questions'}" />

        <p>Here you can review and amend the application and assessment questions and guidance for this competition.
            Any changes you make will be applied to this competition, but will not affect the default template for this competition type.</p>

        <p>If you're happy with the default questions for this competition type, mark this section as done and continue.</p>

        <div class="grid-row">
            <div class="column-half">
                <div class="grey-box">
                    <h3 class="heading-small no-margin">Assessed questions</h3>
                    <ol class="list-number">
                        <li th:each="question : ${questions}">
                            <a th:href="@{/competition/setup/{competitionId}/section/application/question/{questionId}(competitionId=${competition.id}, questionId=${question.id})}"
                               th:text="${#strings.isEmpty(question.shortName)} ? #{ifs.application.question.no_heading} : ${question.shortName}">Question Title</a>
                        </li>
                    </ol>
                </div>
            </div>
            <div class="column-half">
                <div class="grey-box">
                    <h3 class="heading-small no-margin">Application details</h3>
                    <ol class="list-number">
                        <li><a th:href="@{/competition/setup/{competitionId}/section/application/detail(competitionId=${competition.id})}">Application details</a></li>
                        <li th:each="question : ${projectDetails}"><a th:href="@{/competition/setup/{competitionId}/section/application/question/{questionId}(competitionId=${competition.id}, questionId=${question.id})}" th:text="${question.shortName}">Question Title</a></li>
                    </ol>

                </div>
                <div class="grey-box">
                    <h3 class="heading-small no-margin">Finances</h3>
                    <ul>
                        <li><a th:href="@{/competition/setup/{competitionId}/section/application/question/finance(competitionId=${competition.id})}">Finances</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <button th:if="${editable}" class="button extra-margin">Done</button>

        <ul class="pagination">
            <li class="prev">
                <a rel="prev" title="Navigate to prev part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='milestones')}">
                    <span class="pagination-label">Previous</span>
                    <span class="pagination-part-title">Milestones</span>
                </a>
            </li>
            <li class="next">
                <a rel="next" title="Navigate to next part" th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='assessors')}">
                    <span class="pagination-label">Next</span>
                    <span class="pagination-part-title">Assessors</span>
                </a>
            </li>
        </ul>
    </form>
</th:block>

<!-- =================== Comp setup section - Assessors (6) ============================== -->
<th:block th:fragment="section-assessors">

    <div class="page-title">
        <h1 class="heading-xlarge">Assessment</h1>
    </div>


    <form th:action="@{(${editable} ? '' : 'assessors/edit')}" method="post" th:object="${competitionSetupForm}" novalidate="novalidate"
          th:attr="data-competition=${competition.id},data-autosave=${setupComplete != true}?compSetup" data-section="assessors">
        <th:block th:if="${editable}" id="section-assessors-edit">
            <h2 class="heading-small">How many assessors are required for each application?</h2>
            <div th:class="${#fields.hasErrors('assessorCount')}? 'form-group error':'form-group'">
                <fieldset class="inline">
                    <legend class="visuallyhidden">How many assessors are required for each application?</legend>
                    <span th:if="${#fields.hasErrors('assessorCount')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('assessorCount')}" th:text="${err}" />
                    </span>
                    <label th:each="assessorOption : ${assessorOptions}" class="block-label selection-button-radio" th:for="${'assessors-' + '__${assessorOption.id}__'}">
                     <input th:id="${'assessors-' + '__${assessorOption.id}__'}" name="assessorCount"
                            th:value="${assessorOption.optionValue}" type="radio"
                            th:checked="${assessorOption.optionValue == competitionSetupForm.assessorCount}" />
                        <span th:text="${assessorOption.optionName}"></span>
                    </label>

                </fieldset>
            </div>
            <div th:class="${#fields.hasErrors('assessorPay')}? 'form-group error':'form-group'">
                <label class="form-label" for="assessorPay">
                    <span class="form-label-bold">How much do assessors receive per application?</span>
                    <span class="form-hint">This information will be available in the assessor invites.</span>
                     <span th:if="${#fields.hasErrors('assessorPay')}" th:remove="tag">
                          <span class="error-message"  th:each="err : ${#fields.errors('assessorPay')}" th:text="${err}" />
                    </span>
                </label>
                <input class="form-control width-medium" id="assessorPay" name="assessorPay" type="number" min="0" maxlength="8"
                        th:value="${#fields.hasErrors('assessorPay') ? competitionSetupForm.assessorPay : competitionSetupForm.assessorPay != null ? #numbers.formatInteger(competitionSetupForm.assessorPay, 0, 'COMMA')  : ''}"
                       data-th-attr="data-maxlength-errormessage=#{validation.assessorsform.assessorPay.max.amount.invalid},
                                     data-min-errormessage=#{validation.assessorsform.assessorPay.min},
                                     data-required-errormessage=#{validation.assessorsform.assessorPay.required}"
                       th:errorclass="field-error"
                       th:readonly="${isSetupAndLive}"/>
            </div>

            <button class="button">Done</button>
        </th:block>

       <th:block th:if="${!editable}" id="section-assessors-readonly">
            <dl class="standard-definition-list">
                <dt>How many assessors are required for each application?</dt>
                <dd th:text="${competitionSetupForm.assessorCount}"></dd>

                <dt>How much do assessors receive per application?</dt>
                <dd th:text="${#numbers.formatInteger(competitionSetupForm.assessorPay, 0, 'COMMA')}"></dd>
            </dl>

           <button th:unless="${preventEdit}" type="submit" class="button">Edit</button>
        </th:block>
    </form>


    <ul class="pagination">
        <li class="prev">
            <a rel="prev" title="Navigate to prev part"
               th:href="@{/competition/setup/{competitionId}/section/{sectionPath}(competitionId=${competition.id},sectionPath='application')}">
                <span class="pagination-label">Previous</span>
                <span class="pagination-part-title">Application</span>
            </a>
        </li>
        <li class="next">
            <a rel="next" title="Navigate to next part" th:href="@{/competition/setup/{sectionPath}/{competitionId}(competitionId=${competition.id},sectionPath='public-content')}">
                <span class="pagination-label">Next</span>
                <span class="pagination-part-title">Public content</span>
            </a>
        </li>
    </ul>

</th:block>
