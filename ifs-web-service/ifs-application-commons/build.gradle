apply from: rootProject.file("gradle-support/spring-boot.gradle")

apply plugin: 'idea'

group 'innovateuk'
version project.version


bootJar.enabled=false
jar.enabled=true

configurations {
    testArtifacts
}
task testJar (type: Jar) {
    baseName = "${project.name}-test"
    from sourceSets.test.output
}
artifacts {
    testArtifacts testJar
}

dependencies {

    compile project(":ifs-web-service:ifs-commons-commons")
    compile "org.innovateuk.ifs.libraries:ifs-resources"
    compile "org.innovateuk.ifs.libraries:ifs-security"
    compile 'org.innovateuk.ifs.libraries:ifs-rest-api-service'
    compile "org.innovateuk.ifs.libraries:ifs-rest-util"

    testCompile "org.innovateuk.ifs.libraries:ifs-commons"
    testCompile "org.innovateuk.ifs.libraries:ifs-security-test"
    testCompile project(":ifs-web-service:ifs-commons-commons-test")

    testCompile 'org.springframework.restdocs:spring-restdocs-mockmvc'
    testCompile "com.opencsv:opencsv"
    testCompile "junit:junit"
    testCompile group: 'com.jayway.awaitility', name: 'awaitility'
    testCompile "org.springframework.boot:spring-boot-starter-validation"

}

jar.dependsOn ":ifs-web-service:gulp_default"
processResources.dependsOn ":ifs-web-service:applyProfiles"