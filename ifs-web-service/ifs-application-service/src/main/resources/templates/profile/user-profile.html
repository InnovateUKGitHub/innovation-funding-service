<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Profile'" />
</head>
<body class="govuk-template__body user-profile">

<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />

<div class="govuk-width-container">
    <th:block th:insert="fragments/layout :: phase-banner" />
    <th:block th:insert="fragments/layout :: header-sub" th:with="linkTitle='Dashboard',linkUrl=@{/applicant/dashboard}" />

    <main class="govuk-main-wrapper" id="main-content" role="main">
        <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle='Profile',size='govuk-heading-l'" />

        <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible" />

        <h2 class="govuk-heading-m">Your details <small class="list-indent"><a href="/profile/edit" class="govuk-link"> Edit your details</a></small></h2>

        <h3 class="govuk-heading-s govuk-!-margin-bottom-0">Your name</h3>
        <p class="govuk-body">
            <th:block th:text="${model.name}" />
        </p>

        <h3 class="govuk-heading-s govuk-!-margin-bottom-0">Phone number</h3>
        <p class="govuk-body" th:text="${model.phoneNumber}" />
        <h3 class="govuk-heading-s govuk-!-margin-bottom-0">Email address</h3>
        <p class="govuk-body" th:text="${model.emailAddress}" />
        <h3 class="govuk-heading-s govuk-!-margin-bottom-0">Email preferences</h3>
        <p class="govuk-body" th:if="${model.allowMarketingEmails}">You have asked for updates on Innovate UK competitions by email.</p>
        <p class="govuk-body" th:unless="${model.allowMarketingEmails}">You have asked that we do not keep you updated on Innovate UK competitions by email.</p>

        <th:block th:unless="${model.organisations.isEmpty()}">
            <h2 class="govuk-heading-m govuk-!-margin-top-6">Your organisation details</h2>
            <div class="table-overflow">
                <table class="govuk-table">
                    <thead class="govuk-table__head">
                        <tr class="govuk-table__row">
                            <th class="govuk-table__header width-small">Organisation name</th>
                            <th class="govuk-table__header">Organisation type</th>
                            <th class="govuk-table__header">Registration number</th>
                        </tr>
                    </thead>
                    <tbody class="govuk-table__body">
                        <tr class="govuk-table__row" th:each="organisation : ${model.organisations}">
                            <td class="govuk-table__cell" th:text="${organisation.name}"></td>
                            <td class="govuk-table__cell" th:text="${organisation.type}"></td>
                            <td class="govuk-table__cell" th:text="${organisation.registrationNumber}"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </th:block>

        <th:block th:insert="fragments/layout :: main-content-end" />
    </main>
</div>

<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
<th:block th:insert="fragments/service-layout :: body-end" />

</body>
</html>
