<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Cofunder assessments'" />
</head>
<body class="govuk-template__body assessor-dashboard">
<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />

<div class="govuk-width-container">
    <th:block th:insert="fragments/layout :: phase-banner" />

    <main class="govuk-main-wrapper" id="main-content" role="main">
        <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle='Co-fund competitions',size='govuk-heading-xl'" />

        <div class="my-applications">
            <th:block th:unless="${#lists.isEmpty(model.activeCompetitions)}">

                <div class="progress-list">
                    <h2 class="govuk-heading-m govuk-!-margin-top-0">Competitions for assessment (<span
                        th:text="${#lists.size(model.activeCompetitions)}"/>)</h2>
                    <ul>
                        <li th:each="activeCompetition : ${model.activeCompetitions}">
                            <div class="task">
                                <h3 class="govuk-heading-s"><a class="govuk-link"
                                                               th:href="@{/assessor/dashboard/competition/{competitionId}(competitionId=${activeCompetition.competitionId})}"
                                                               th:text="${activeCompetition.displayLabel}"/></h3>
                                <div th:if="${!activeCompetition.hasPendingAssessments() && !activeCompetition.hasApplicationsToAssess()}">
                                    There are currently no assessments for you to review.
                                </div>

                                <div th:if="${!activeCompetition.hasApplicationsToAssess() && activeCompetition.hasPendingAssessments()}" class="action-required">
                                            <span th:text="${activeCompetition.pendingAssessments}" class="pending-applications">
                                                COUNT
                                            </span> applications awaiting acceptance
                                </div>

                                <div th:if="${activeCompetition.hasPendingAssessments() && activeCompetition.hasApplicationsToAssess()}" class="action-required">
                                    <span th:text="${activeCompetition.pendingAssessments}" class="pending-applications" /> applications awaiting acceptance | <span th:text="${activeCompetition.progressTotal - activeCompetition.progressAssessed}" class="accepted-applications" /> applications to assess
                                </div>

                                <div th:if="${activeCompetition.hasApplicationsToAssess() && !activeCompetition.hasPendingAssessments()}" class="action-required">
                                            <span th:text="${activeCompetition.progressTotal - activeCompetition.progressAssessed}" class="accepted-applications">
                                                COUNT
                                            </span> applications to assess
                                </div>
                            </div>
                            <div class="status">
                                <div class="status-msg msg-deadline" th:attr="data-competition-id=${activeCompetition.competitionId}">
                                    <strong class="govuk-!-font-size-24 govuk-!-font-weight-bold days-remaining" th:text="${activeCompetition.daysLeft}"></strong>
                                    <br />
                                    days left <br />
                                    Deadline
                                    <span class="day" th:text="${#temporals.day(activeCompetition.submitDeadline)}">END DAY</span>
                                    <span class="month" th:text="${#temporals.monthName(activeCompetition.submitDeadline)}">END MONTH</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

        <th:block th:insert="fragments/layout :: main-content-end" />
    </main>
</div>

<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
<th:block th:insert="fragments/service-layout :: body-end" />
</body>
</html>
