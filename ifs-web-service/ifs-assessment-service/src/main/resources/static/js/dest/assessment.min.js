if("undefined"==typeof IFS)var IFS={};IFS.assessment={},IFS.assessment.loadOrder={common:{init:function(){IFS.assessment.conditionallyRequired.init()},finalize:function(){}},"declaration-form":{init:function(){IFS.assessment.repeatableDeclarationRows.init()}}},IFS.assessment.conditionallyRequired=function(){"use strict";return{init:function(){jQuery("body").on("click","[data-conditionally-add-required]",function(){IFS.assessment.conditionallyRequired.addRequired(this)}),jQuery("body").on("click","[data-conditionally-remove-required]",function(){IFS.assessment.conditionallyRequired.removeRequired(this)})},addRequired:function(e){var t=jQuery(e).attr("data-conditionally-add-required");jQuery(t).each(function(){jQuery(this).attr("required","required")})},removeRequired:function(e){var t=jQuery(e).attr("data-conditionally-remove-required");jQuery(t).each(function(){var e=jQuery(this),t=e.closest(".form-group");e.removeProp("required").removeClass("field-error"),t.removeClass("error"),t.find(".error-message").remove()})}}}(),IFS.assessment.repeatableDeclarationRows=function(){"use strict";return{init:function(){jQuery("button[data-repeatable-rowcontainer]").attr("type","button"),jQuery("body").on("click","[data-repeatable-rowcontainer]",function(e){if(jQuery(this).is(":radio")){var t=jQuery(this).attr("data-repeatable-rowcontainer");0===jQuery(t).children().length&&IFS.assessment.repeatableDeclarationRows.addRow(this,e)}else e.preventDefault(),IFS.assessment.repeatableDeclarationRows.addRow(this,e)}),jQuery("body").on("click",".remove-another-row",function(e){e.preventDefault(),IFS.assessment.repeatableDeclarationRows.removeRow(this,e)})},addRow:function(e){var t,a=jQuery(e).attr("data-repeatable-rowcontainer"),r=jQuery(a).children().length||0;t="hasAppointments"===jQuery(e).attr("name")||"addAppointment"===jQuery(e).attr("name")?'<tr><td class="form-group"><label></label><input aria-labelledby="aria-position-org" class="form-control width-full appointment-field" type="text" id="appointments'+r+'.organisation" name="appointments['+r+'].organisation" value="" data-required-errormessage="Please enter an organisation." required="required" /></td><td class="form-group"><label></label><input aria-labelledby="aria-position-pos" class="form-control width-full appointment-field" type="text" id="appointments'+r+'.position" name="appointments['+r+'].position" value="" data-required-errormessage="Please enter a position." required="required" /></td><td><button class="remove-another-row buttonlink" name="removeAppointment" type="button" value="0">Remove</button></td></tr>':'<tr><td class="form-group"><label></label><input aria-labelledby="aria-family-rel" class="form-control width-full family-affiliation-field" type="text" id="familyAffiliations'+r+'.relation" name="familyAffiliations['+r+'].relation" value="" data-required-errormessage="Please enter a relation." required="required" /></td><td class="form-group"><label></label><input aria-labelledby="aria-family-org" class="form-control width-full family-affiliation-field" type="text" id="familyAffiliations'+r+'.organisation" name="familyAffiliations['+r+'].organisation" value="" data-required-errormessage="Please enter an organisation." required="required" /></td><td class="form-group"><label></label><input aria-labelledby="aria-family-pos" class="form-control width-full family-affiliation-field" type="text" id="familyAffiliations'+r+'.position" name="familyAffiliations['+r+'].position" value="" data-required-errormessage="Please enter a position." required="required" /></td><td><button class="remove-another-row buttonlink" name="removeFamilyMemberAffiliation" type="button" value="1">Remove</button></td></tr>',jQuery(a).append(t),jQuery(t).find("input").first().focus()},removeRow:function(e){var t=jQuery(e),a=t.closest("tbody"),r=jQuery(a).children();r.length<=1||(t.closest("tr").remove(),jQuery(r).each(function(e){var t=jQuery(this).find("input");jQuery(t).each(function(){var t=jQuery(this).attr("id").replace(/\d+/g,e),a=jQuery(this).attr("name").replace(/\d+/g,e);jQuery(this).attr({id:t,name:a})})}))}}}();