<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Application Dashboard'" th:remove="tag" />
    <link href="/css/prototype.css" media="screen" rel="stylesheet" type="text/css" />
	

	<div th:if="${param.filterInnovationArea != null}" th:remove="tag">
		<style>
			#assessor-list tbody tr{
				display: none;
			}
			.pagination{
				display: none;
			}
			#assessor-list tbody tr.filtered-result{
				display: table-row;
			}
		</style>
	</div>

</head>
<body class="comp-assessors">


<div th:include="prototypes/fragments/layout :: prototype-nav" th:remove="tag" />
<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />


<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />
    <div th:include="prototypes/fragments/applicant-view :: prototype-subheader(${'Competition overview'}, ${'/prototypes/997-comp-applications-dashboard-open'})" th:remove="tag" />

	<!-- HARDCODED PROTOTYPE HTML -->
	
	<div th:include="prototypes/fragments/comp-admin :: prototype-comp-admin-page-title(${'Innovate UK, Technology inspired, (4891061)'}, ${'Invite assessors'})" th:remove="tag" />

	<div th:include="prototypes/fragments/comp-admin :: prototype-comp-summary" th:remove="tag" />

	<h2 class="heading-large">Invite list</h2>
	<div class="grid-row highlight-panel">
		<div class="column-half">
			<p><span class="heading-xlarge" id="assessor-count-display">0</span> assessors on the invite list</p>		
		</div>
		<div class="column-half alignright">
			<a href="/prototypes/863-invite-list" class="button large disabled view-invite-list">View invite list <span>(0)</span></a>
		</div>
	</div>
	
	<!-- <p class="form-hint">Add assessors to the invite list by selecting '<strong>Add</strong>' from the list of <strong>current assessors</strong> in the section below</p> -->

	<h2 class="heading-large" id="current-assessors">Current assessors</h2>
	
	<div class="search-filters extra-margin">
		
		<form formaction="/prototypes/863-invite-assessors#current-assessors" method="GET"> 

			<h2 class="heading-medium no-margin">Filter assessors</h2>

			<div class="grid-row">
				<div class="column-third">
					<label class="form-label" for="filterInnovationArea">Innovation area</label>
					<select class="form-control" id="filterInnovationArea" name="filterInnovationArea">
						
						<option th:if="${param.filterInnovationArea != null}" th:remove="tag">
							<option th:text="${param.filterInnovationArea[0]}" selected="selected">TEST</option>
						</option>
						
						<option th:if="${param.filterInnovationArea == null}" th:remove="tag">
							<option selected="selected">---</option>
						</option>

						<option value="Agriculture &#38; food">Agriculture &#38; food</option>
						<option value="Built environment">Built environment</option>
						<option value="Digital economy">Digital economy</option>
						<option value="Emerging technologies">Emerging technologies</option>
						<option value="Energy">Energy</option>
						<option value="Health &#38; care">Health &#38; care</option>
						<option value="High value manufacturing">High value manufacturing</option>
						<option value="Space applications">Space applications</option>
						<option value="Transport">Transport</option>
						<option value="Urban living">Urban living</option>
					</select>
				</div>

				<div class="column-third">
					<label class="form-label" for="filterSearch">Search</label>
					<input type="text" class="form-control" id="filterSearch" name="filterSearch" />
				</div>

				<div class="column-third alignright">
					<button class="button">Filter</button>
				</div>

			</div>
			
		</form>

	</div>


	<div class="grid-row sorting">
		<div class="column-two-thirds">
			
			<div th:if="${param.filterInnovationArea == null}" th:remove="tag">
				<p><span class="heading-xlarge no-margin">76</span> <strong>assessors</strong></p>
			</div>
			
			<div th:if="${param.filterInnovationArea != null}" th:remove="tag">
				
				<div th:if="${param.filterInnovationArea[0] != '---' and param.filterSearch[0] == ''}" th:remove="tag">
					<p><span class="heading-xlarge">5</span> assessors with the innovation area <strong th:text="${param.filterInnovationArea[0]}">INNOVATION AREA</strong> - <a href="/prototypes/863-invite-assessors">Clear filters</a></p> 
				</div>

				<div th:if="${param.filterInnovationArea[0] == '---' and param.filterSearch[0] != ''}" th:remove="tag">
					<p><span class="heading-xlarge">5</span> assessors with the term <strong th:text="${param.filterSearch[0]}">SEARCH TERM</strong> - <a href="/prototypes/863-invite-assessors">Clear filters</a></p> 
				</div>

				<div th:if="${param.filterInnovationArea[0] != '---' and param.filterSearch[0] != ''}" th:remove="tag">
					<p><span class="heading-xlarge">5</span> assessors  with the innovation area <strong th:text="${param.filterInnovationArea[0]}">INNOVATION AREA</strong> and with the term <strong th:text="${param.filterSearch[0]}">SEARCH TERM</strong> - <a href="/prototypes/863-invite-assessors">Clear filters</a></p> 
				</div>

				<div th:if="${param.filterInnovationArea[0] == '---' and param.filterSearch[0] == ''}" th:remove="tag">
					<p><span class="heading-xlarge no-margin">76</span> <strong>assessors</strong></p>
				</div>

			</div>




		</div>

		<div class="column-third alignright">
			<label for="sort-by">Sort by</label>
			<select name="sort-by" id="sort-by" class="form-control">
				<option value="Name">Name</option>
				<option value="closing-date">Contract and DOI</option>
			</select>
		</div>
	</div>
	
	<table id="assessor-list">
		<thead>
			<tr>
				<th style="width: 60%">Assessor</th>
				<th style="width: 20%">Contract and DOI</th>
				<th style="width: 20%" class="alignright">Add assessor to competition</th>
			</tr>
		</thead>
		<tbody>
			<tr class="filtered-result">
				<td>Bill Knightly</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Oliver Romero</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Jeffrey	Carlson</td>
				<td><span class="no">No</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr class="filtered-result">
				<td>Bill Limp</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Sonja Barton</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Juanita	Luna</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Irving Wolfe</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Verna Richards</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr class="filtered-result">
				<td>Phil Bill</td>
				<td><span class="no">No</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Blake Kelley</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Gloria Kelly</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Lori Underwood</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Melanie	Daniels</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Bill Hale</td>
				<td><span class="no">No</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Christina Swanson</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr class="filtered-result">
				<td>Ryan Bill</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr class="filtered-result">
				<td>Stuart Bill</td>
				<td><span class="no">No</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Malcolm	Stewart</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Elmer Nelson</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
			<tr>
				<td>Calvin Manning</td>
				<td><span class="yes">Yes</span></td>
				<td class="alignright"><a href="#" class="add-assessor">Add</a></td>
			</tr>
		</tbody>
	</table>
	
	<div th:if="${param.filterStatus == null}" th:remove="tag">

		<ul class="pagination">
		    <li class="next">
		        <a href="#" rel="next" title="Navigate to next part">
		            <span class="pagination-label">Next</span>
		            <span class="pagination-part-title">2 of 4</span>
		        </a>
		    </li>
		</ul>

	</div>

	<h2 class="heading-large">
		Add new assessors
	</h2>

	<ul> <!-- Based on existing invite markup from 633-application-invite -->
		<li>
			<table>
				<thead>
					<tr>
						<th>Name</th>
						<th>E-mail</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<input readonly="readonly" type="text" name="name-item-1" id="name-item-1" value="Joe Bloggs"  />
						</td>
						<td>
							<input readonly="readonly" type="email" name="mail-item-1" id="mail-item-1" value="jbloggs@example.com"  />
						</td>
						<td class="alignright remove">
							<!-- <a class="delete-row" data-cost-row="12" href="#">Remove</a> -->
							(Example)
						</td>
					</tr>
				</tbody>
			</table>
			
			<div class="grid-row extra-margin">
				<div class="column-half">
					<a class="add-another-row button-link" href="javascript:void(0);">Add new row</a>
				</div>
				<div class="column-half alignright-button">
					<a href="#" class="button button-secondary" id="add-to-list">Add to invite list <span>(0)</span></a>
				</div>
			</div>

		</li>
	</ul>

	<hr />
	
	<p class="alignright-button extra-margin">
		
		<a href="/prototypes/863-invite-list" class="button large disabled view-invite-list">View invite list <span>(0)</span></a>

	</p>

	<!-- END OFHARDCODED PROTOTYPE HTML -->

    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>

<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />
<script src="/js/ifs_prototype/prototype.js" type="text/javascript"></script>

<script type="text/javascript">
	// <![CDATA[
	jQuery(document).ready(function(){
		function setButtonCounter(){
			jQuery('#assessor-count-display').html(counter);
			jQuery('.view-invite-list span').html('(<strong>'+counter+'</strong>)'); 
		}

		function setButtonState(){
			if (counter <= 0){
				jQuery('.view-invite-list').addClass('disabled');
				jQuery('.view-invite-list').on('click',function(e){
					e.preventDefault();
					//alert(counter);
				});
			}else{
				jQuery('.view-invite-list').removeClass('disabled');
				jQuery('.view-invite-list').on('click',function(e){
					return true;
					//alert(counter);
				});
			}
		}

		var counter = 0;
		var counterRow = 0; 

		jQuery('.add-another-row').on('click',function(e){ 
			counterRow ++;
			jQuery('#add-to-list span').html('(<strong>'+counterRow+'</strong>)'); 
			//alert(counterRow);
		});

		jQuery('body').on('click','.delete-row',function(){
			counter --;
			counterRow --;
			//setButtonCounter();
			jQuery('#add-to-list span').html('(<strong>'+counterRow+'</strong>)');
			//alert("TEST "+counterRow); 
		});

		jQuery('#add-to-list').on('click',function(e){ 
			e.preventDefault();
			counter = counter + counterRow;
			//alert(counter);
			setButtonState();
			setButtonCounter();
		});


		jQuery('.add-assessor').on('click',function(e){ 
			e.preventDefault();


			//alert('hello');
			
			if (jQuery(this).hasClass( 'added' )){
				
				jQuery(this).removeClass( 'added' );
				jQuery(this).text('Add');

				counter --;
			
			}else{
				
				jQuery(this).addClass( 'added' );
				jQuery(this).text('Remove');

				
				counter ++;

			}

			setButtonState();
			setButtonCounter();
			
			//jQuery(this).text('Remove');



		});
	});
	// ]]>
	</script>
</body>
</html>