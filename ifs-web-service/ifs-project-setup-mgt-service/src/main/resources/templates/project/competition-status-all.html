<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle=|Project Setup - ${model.competitionName}|" />
</head>
<body class="govuk-template__body competition-management project-management">
<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />

<div class="govuk-width-container">
    <th:block th:insert="fragments/layout :: phase-banner" />
    <th:block th:insert="fragments/layout :: header-sub" th:with="linkTitle='Competition dashboard',linkUrl=@{~/management/dashboard/project-setup}" />

    <main class="govuk-main-wrapper" id="main-content" role="main">
        <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle='Project setup',subTitle=|${model.competitionId}: ${model.competitionName}|,size='govuk-heading-xl'" />

        <form method="GET">
            <div class="search-filters govuk-!-margin-top-6">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--m govuk-!-margin-top-0">
                        <h2 class="govuk-fieldset__heading">Filter projects</h2>
                    </legend>
                    <div class="govuk-grid-row">
                        <div class="govuk-grid-column-two-thirds">
                            <label class="govuk-label"
                                   for="applicationSearchString">Search by application number.</label>
                            <input type="number"
                                   class="govuk-input"
                                   id="applicationSearchString"
                                   pattern="[0-9]"
                                   data-prevent-input-regex="[^0-9]"
                                   name="applicationSearchString"
                                   th:value="${model.applicationSearchString}"
                                   value="">
                        </div>
                        <div class="govuk-grid-column-one-third">
                            <button class="govuk-button" >Filter</button>
                        </div>
                    </div>
                </fieldset>
                <div class="govuk-!-margin-top-6">
                    <a href="?" class="govuk-link govuk-body">Clear all filters</a>
                </div>
            </div>
        </form>

        <div class="govuk-tabs">
            <h2 class="govuk-tabs__title">
                Project setup
            </h2>
            <th:block th:insert="project/fragments/fragments :: project-dashboard-navigation (selectedTab=${'all'}, competitionId=${model.competitionId}, openQueryCount=${model.openQueryCount}, pendingSpendProfilesCount=${model.pendingSpendProfilesCount}, showAllTabs=${model.showTabs}, isExternalFinanceUser=${model.externalFinanceUser}, isIfsAdmin=${model.ifsAdmin})" />
            <section class="govuk-tabs__panel">
                <th:block th:insert="fragments/status :: status-table (model=${model})" />

                <th:block th:insert="fragments/elements :: pagination(pagination=${model.paginationViewModel})" />
            </section>
        </div>
        <th:block th:insert="fragments/layout :: main-content-end" />
    </main>
</div>
<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
</body>
</html>
