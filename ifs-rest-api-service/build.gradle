
if (project.hasProperty("profile")) {
    def targetBuildFile = "${project.profile}-build.gradle"
    if (file(targetBuildFile).exists()) {
        apply from: targetBuildFile
    }
}

apply from: rootProject.file("gradle-support/java.gradle")
apply from: rootProject.file("gradle-support/bom.gradle")

group 'innovateuk'
version project.version

apply plugin: 'idea'

ext {
    javaLanguageLevel = 1.8
}

// Spring Boot 1.3 uses Spring REST Docs 1.0. To use 1.1, override the version
ext['spring-restdocs.version']='1.1.2.RELEASE'

configurations {
    testArtifacts
}
task testJar (type: Jar) {
    baseName = "${project.name}-test"
    from sourceSets.test.output
}
artifacts {
    testArtifacts testJar
}

dependencies {

    compile('org.apache.httpcomponents:httpclient')
    compile('org.springframework:spring-web')
    compile('org.springframework.cloud:spring-cloud-starter-netflix-hystrix')
    compile project(':ifs-resources')
    compile project(':ifs-rest-util')
    compile project(':ifs-commons')

    testCompile project (path: ":ifs-resources", configuration: 'testArtifacts')
    testCompile 'org.springframework.boot:spring-boot-starter-test'

}
