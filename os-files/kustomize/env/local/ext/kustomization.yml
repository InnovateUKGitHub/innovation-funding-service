commonAnnotations:
  deployedWith: kustomize
  environment: local

bases:
  - ../../env-base

components:

  - ../../../components/auth
  - ../../../components/cache-provider
  - ../../../components/ifs-database
  - ../../../components/sil-stub

  - ../../../patches/health-check-patch
  - ../../../patches/new-relic-env-vars-patch
  - ../../../patches/pull-secrets-patch
  - ../../../patches/spring-profile-patch
  - ../../../patches/wait-for-db-patch

resources:
  - auth/idp/idp-config.yml
  - auth/ldap/ldap-keys-secrets.yml
  - auth/sp/sp-keys-secrets.yml
  - auth/idp/idp-keys-secrets.yml
  - auth/sp/sp-secrets.yml

  - auth/idp/shibboleth-config.yml
  - auth/ldap/ldap-config.yml

#  - storage/persistent-volume-claim.yml
#  - storage/persistent-volume.yml

  - new-relic-config.yml
  - web-config.yml
  - docusign-config.yml
  - flyway-config.yml
  - spring-config.yml
  - performance-config.yml

patchesStrategicMerge:
  - auth/idp/shibboleth-config.yml