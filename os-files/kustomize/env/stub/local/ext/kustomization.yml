commonAnnotations:
  deployedWith: kustomize
  environment: local

bases:
  - ../../stub-base

components:
  - ../../../../components/auth
  - ../../../../components/cache-provider
  - ../../../../components/ifs-database
  - ../../../../components/mail
  - ../../../../patches/new-relic-env-vars-patch
  - ../../../../patches/pull-secrets-patch
  - ../../../../patches/spring-profile-patch

resources:
  - config-maps/spring-config.yml
  - secrets/ldap-keys-secrets.yml
  - secrets/sp-keys-secrets.yml
  - secrets/idp-keys-secrets.yml
  - secrets/sp-secrets.yml
  - config-maps/idp-config.yml
  - config-maps/idp-metadata.yml
  - config-maps/ldap-config.yml
  - config-maps/shibboleth-config.yml
  - config-maps/web-config.yml

patchesStrategicMerge:
  - mail/mail-config.yml
  - mail/mail.yml
  - ifs-database/ifs-database.yml
  - auth/idp/idp.yml
  - auth/idp/idp-deployment.yml
  - auth/sp/sp.yml
  - auth/sp/sp-deployment.yml
  - auth/ldap/ldap-deployment.yml