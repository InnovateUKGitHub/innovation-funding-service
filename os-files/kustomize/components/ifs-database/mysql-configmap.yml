apiVersion: v1
kind: ConfigMap
metadata:
  name: mysql-initdb-config
data:
  initdb.sql: |
    CREATE DATABASE ifs;
    CREATE DATABASE ifs_test;
    CREATE DATABASE ifs_finance;
    CREATE DATABASE ifs_finance_test;
    CREATE DATABASE ifs_survey;
    CREATE DATABASE ifs_survey_test;
  my.cnf: |-
    [client]
    port		= 3306
    socket		= /tmp/mysql.sock
    [mysqld]
    port		= 3306
    socket		= /tmp/mysql.sock
    skip-external-locking
    key_buffer_size = 16K
    max_allowed_packet = 1M
    table_open_cache = 4
    sort_buffer_size = 64K
    read_buffer_size = 256K
    read_rnd_buffer_size = 256K
    net_buffer_length = 2K
    thread_stack = 250K
    sql_mode = "STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"
    server-id	= 1
    collation-server = utf8_bin
    init-connect='SET NAMES utf8'
    character-set-server = utf8
    [mysqldump]
    quick
    max_allowed_packet = 16M
    column-statistics = 0
    [mysql]
    no-auto-rehash
    [myisamchk]
    key_buffer_size = 8M
    sort_buffer_size = 8M
    [mysqlhotcopy]
    interactive-timeout