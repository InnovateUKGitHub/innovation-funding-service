commonAnnotations:
  deployedWith: kustomize
  environment: local

bases:
  - ../../base

patches:
- path: data-layer/patches/waitdb-init-container.yml
  target:
    kind: Deployment
    annotationSelector: "waitForDb=waitForDb"

- path: patches/pull-secrets-patch.yml
  target:
    kind: Deployment
    annotationSelector: "pullSecrets=pullSecrets"

resources:
  - spring-config.yml
  - data-layer/databases/ifs-database.yml
  - data-layer/databases/ifs-database-deployment.yml
  - data-layer/databases/mysql-configmap.yml
  - cache-provider/cache-provider-service.yml
  - cache-provider/cache-provider-service-deployment.yml
  - robot/chrome.yml
  - robot/chrome-deployment.yml
  - robot/robot-framework-deployment.yml
  - routes/idp-route.yml
  - routes/shib-route.yml

patchesStrategicMerge:
  - cache-config.yml
  - db-config.yml
  - cache-provider/cache-provider-service.yml
  - cache-provider/cache-provider-service-deployment.yml
  - data-layer/data-service/data-service-config.yml
  - data-layer/finance-data-service/finance-data-service-config.yml
  - data-layer/survey-data-service/survey-data-service-config.yml
  - auth/idp/shibboleth-config.yml
  - auth/idp/idp-config.yml
  - auth/ldap/ldap-config.yml
  - feature-toggle-config.yml
  - new-relic-config.yml
  - web-config.yml
  - docusign-config.yml
  - flyway-config.yml

