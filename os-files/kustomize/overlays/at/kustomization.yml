commonAnnotations:
  deployedWith: kustomize
  environment: at

bases:
  - ../../base

patches:
  - path: data-layer/patches/waitdb-init-container.yml
    target:
      kind: Deployment
      annotationSelector: "waitForDb=waitForDb"

  - path: patches/pull-secrets-patch.yml
    target:
      kind: Deployment
      annotationSelector: "pullSecrets=pullSecrets"

resources:
  - spring-config.yml
  - data-layer/databases/ifs-database.yml
  - data-layer/databases/ifs-database-deployment.yml
  - data-layer/databases/mysql-configmap.yml
  - data-layer/data-service/data-service-config.yml
  - data-layer/finance-data-service/finance-data-service-config.yml
  - data-layer/survey-data-service/survey-data-service-config.yml
  - robot/chrome.yml
  - robot/chrome-deployment.yml
  - robot/robot-framework-deployment.yml
  - routes/idp-route.yml
  - routes/shib-route.yml
  - cache-provider/cache-provider-service.yml
  - cache-provider/cache-provider-service-deployment.yml
  - cache-provider/cache-config.yml
  - auth/idp/shibboleth-config.yml
  - auth/idp/idp-config.yml
  - auth/idp/idp-keys-secrets.yml
  - auth/ldap/ldap-config.yml
  - auth/ldap/ldap-keys-secrets.yml
  - auth/sp/sp-keys-secrets.yml
  - auth/sp/sp-secrets.yml
  - feature-toggle-config.yml
  - new-relic-config.yml
  - web-config.yml
  - docusign-config.yml
  - flyway-config.yml
  - storage/gluster.yml
  - storage/gluster-ep.yml
  - storage/persistent-volume-claim.yml
  - db-config.yml

