def host = System.getenv("DATABASE_HOST") ?: "ifs-database"
def jdbcUrl = "jdbc:mysql://$host:3306"
def flywayParams = "characterEncoding=utf8&useMysqlMetadata=true"

ext.testIfsDatasourceUrl="$jdbcUrl/ifs_test?$flywayParams"
ext.testIfsDatasourceUsername="ifs"
ext.testIfsDatasourcePassword="ifs"

ext['flyway.url']="$jdbcUrl?$flywayParams"
ext['flyway.schemas']='ifs,ifs_test'
ext['flyway.user']="ifs"
ext['flyway.password']="ifs"
ext['flyway.table']="schema_version"


ext.ifsFinanceTotalsEnabled=false

// Choose an appropriate location for a location to store uploaded files.
// It is an OS-specific path, so choose the appropriate format depending on
// whether you're on a *nix OS or a Windows OS.
//
// Note the 4 backslashes in Windows paths (this is to preserve the backslashes
// so they are retained in application.properties during the processResource task)
ext.ifsFileStorageLocation="/mnt/ifs_storage"

ext.activeProfile="environment"

// These were in docker-build.gradle and are needed in automation although I'm not sure what in the build included them before
ext['flyway.placeholders.ifs.system.user.uuid']='c0d02979-e66e-11e7-ac43-0242ac120002'
ext.idpRestBaseURL="http://registration-svc:8080"

ext.ifsFinanceTotalsEnabled=true
ext.ifsFinanceTotalsAuthSecretKey="supersecretkey"

ext.allValidInternalUserEmailDomains="innovateuk.ukri.test,innovateuk.test"

ext.ifsWebBaseURL="https://ifs.local-dev"

// Following is required to override allowed suffix on test environments. See comments on IFS-27.
ext.ktaUserEmailDomain="ktn-uk.test"

ext.postcodeLookupKey=""
ext.ifsFileStorageLocation="/tmp"
