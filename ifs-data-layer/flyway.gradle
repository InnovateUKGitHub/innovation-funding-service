apply plugin: org.flywaydb.gradle.FlywayPlugin

buildscript {
    repositories {
        maven { url "https://repo.spring.io/milestone" }
        maven { url "https://plugins.gradle.org/m2/"}
        mavenCentral()
    }

    dependencies {
        classpath 'org.flywaydb:flyway-gradle-plugin:7.1.1'
        classpath 'org.flywaydb:flyway-core:7.1.1'
    }
}

dependencies {
    implementation enforcedPlatform("org.flywaydb:flyway-core:7.1.1")
    implementation enforcedPlatform("com.h2database:h2:1.4.199")

    implementation "org.flywaydb:flyway-core"
    implementation "org.mariadb.jdbc:mariadb-java-client"
    testImplementation "com.h2database:h2" //1.4.200
}

flyway {
    url = 'jdbc:mysql://ifs-database:3306/ifs?characterEncoding=utf8&useMysqlMetadata=true'
    table = 'schema_version'
    user = 'root'
    password = 'password'
    schemas = ['ifs', 'ifs_test']
}