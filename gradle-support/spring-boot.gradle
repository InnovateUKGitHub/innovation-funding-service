apply from: rootProject.file("gradle-support/java.gradle")

apply plugin: 'io.spring.dependency-management'
apply plugin: 'org.springframework.boot'

dependencies {

    // Enforced platform is composite of IFS libraries, spring boot and spring cloud
    implementation enforcedPlatform ('org.innovateuk.ifs.libraries:bom:2.0.16.IFS-10564-1')

    // version must match here and in ifs-libraries repo (bom and java.gradle)
    annotationProcessor "org.projectlombok:lombok:1.18.20"
    testAnnotationProcessor  "org.projectlombok:lombok:1.18.20"

    // Developer tools are automatically disabled when running a fully packaged application. If your application is
    // launched using java -jar or if it’s started using a special classloader, then it is considered a
    // “production application”. Flagging the dependency as optional in Maven or using compileOnly in Gradle
    // is a best practice that prevents devtools from being transitively applied to other modules using your project.
    compileOnly "org.springframework.boot:spring-boot-devtools"

    implementation "org.springframework.boot:spring-boot-starter-actuator"
    implementation "org.springframework.boot:spring-boot-starter-web"

    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

bootJar {
    classifier = 'executable'
    mainClassName = 'org.innovateuk.ifs.Application'
}

